{"version":3,"sources":["components/Button/Button.module.css","components/profile/myPosts/myPosts.module.css","components/AllUsers/Paginator.module.css","redux/dialogReducer.tsx","api/api.js","components/Message/Users/Users.js","components/SearchUsers/SearchUsers.js","components/SearchUsers/SearchUsersContainer.js","img/links/photo_2020-09-27_22-49-04.jpg","img/links/photo_2020-09-27_23-09-47.jpg","img/links/img.PNG","img/links/photo_2020-09-28_15-41-54.jpg","img/links/photo_2020-09-28_15-43-51.jpg","img/links/photo_2020-09-28_15-47-29.jpg","img/links/photo_2020-09-28_15-49-18.jpg","img/links/test.PNG","components/profile/profile.module.css","components/Preloader/Preloader.module.css","img/327.gif","img/social_icons/facebook_101791.svg","components/Button/Button.js","img/social_icons/youtube_101764.svg","img/social_icons/twitter_101809.svg","img/social_icons/github_101792.svg","img/social_icons/instagram_101780.svg","img/social_icons/vk_101783.svg","components/profile/myPosts/post/post.module.css","components/Message/Users/Users.module.css","utils/validation/validator.js","img/icons/user.jpg","utils/mapingState.js","redux/usersReducer.js","components/profile/ProfileInfo/ProfileInfo.module.css","components/commons/FormControls/FormControls.js","components/header/Navblock/Navblock.module.css","img/links/photo_2020-09-28_00-46-32.jpg","serviceWorker.js","redux/authReducer.tsx","redux/appReducer.tsx","redux/menuReducer.js","redux/NewsReducer.js","redux/store.js","components/header/Navbar/Hamburger.js","components/header/Navbar/MenuDropdown.js","components/header/Navbar/Navbar.js","components/header/Navblock/Navblock.js","components/header/LoginBlock.js","components/header/header.js","components/news/news.js","components/Preloader/Preloader.js","components/profile/ProfileInfo/ProfileStatusHook.js","components/profile/ProfileInfo/ProfileData.js","components/profile/ProfileInfo/ProfileDataForm.js","components/profile/ProfileInfo/ProfileInfo.js","components/profile/myPosts/post/post.js","components/profile/myPosts/myPosts.js","components/profile/myPosts/myPostsContainer.js","components/profile/MySubscriptions/MySubscriptions.js","components/profile/Profile.js","components/profile/profileAPI.js","components/Home/Home.js","components/Home/HomeApi.js","components/Register/Register.js","components/Recipes/Recipes.js","components/Universal/Universal.js","components/Login/Login.js","components/AllUsers/Pagination.js","components/AllUsers/OneUser.js","components/AllUsers/AllUsers.js","redux/usersSelectors.js","components/AllUsers/AllUsersAPI.js","App.js","hoc/WithSuspense.js","index.js","redux/profileReducer.js","components/AllUsers/AllUsers.module.css","components/profile/ProfileInfo/ProfileDataForm.module.css","components/Login/Login.module.css","components/header/Navbar/Navbar.module.css","components/header/LoginBlock.module.css","components/header/header.module.css","img/hotpng.com (2).png","components/Home/Home.module.css","components/Message/Message.module.css","components/commons/FormControls/FormControls.module.css","img/links/photo_2020-09-27_23-14-45.jpg","components/profile/MySubscriptions/MySubscriptions.module.css"],"names":["module","exports","initialState","dataDialogs","photos","small","face","id","name","mess","addMessActionCreator","message","login","photo","userId","type","dialogReducer","state","action","instance","axios","withCredentials","headers","baseURL","usersApi","getUsers","currentPage","pageSize","get","then","response","data","getUsersForName","getFollowedUsers","friend","unSubscribeUsers","usersId","delete","subscribeUsers","post","authApi","authentication","email","password","rememberMe","captcha","logout","getCaptcha","profileApi","getProfile","getStatus","updateStatus","status","put","addPhoto","file","formData","FormData","append","saveProfile","profile","HomeApi","getNews","Users","massUsers","dialog","map","d","key","className","classes","src","alt","to","SearchUsersReduxForm","reduxForm","form","props","onSubmit","handleSubmit","search","inputSearch","Field","placeholder","component","Input","buttonSearch","Button","value","SearchUsers","searchUsers","getUsersSearchThunkCreator","users","SearchUsersContainer","connect","usersPage","searchUsersForName","color","btn","onClick","requiredField","maxLengthCreator","maxLength","length","updateMass","items","itemsId","propName","property","u","usersFollowed","usersCount","isFetching","isFollowingProgress","follow","unfollow","setCurrentPage","setToggleIsFetching","setToggleIsFollowing","getUsersThunkCreator","dispatch","totalCount","getFollowedUsersThunkCreator","followUnfollow","apiMethod","actionCreator","a","async","resultCode","followThunkCreator","bind","unFollowThunkCreator","usersReducer","followed","filter","FormControl","child","input","meta","showError","touched","error","undefined","children","spanError","Textarea","restprops","textareaAddMess","Boolean","window","location","hostname","match","isAuth","captchaUrl","setAuthUsersData","AuthThunkCreator","getCaptchaThunkCreator","capchaUrl","url","authReducer","initialization","appReducer","menuItems","title","path","menuReducer","news","img","photo7","description","link","photo1","photo2","photo3","photo4","photo5","photo6","newsCount","newsReducer","reducers","combineReducers","profileReducer","dialogs","auth","formReducer","app","headerMenu","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","StyledHamburger","styled","button","open","Hamburger","setOpen","StyledMenu","nav","StyledLink","NavLink","MenuBurger","mass","useState","setVisible","ref","useRef","handler","useEffect","listener","event","current","contains","target","document","addEventListener","removeEventListener","useOnClickOutside","m","activeClassName","active","drawDropdownMenu","Navbar","navbarMenu","burger","MenuDropdown","menu","menuItem","Navblock","LogoutThunkCreator","block","cn","itemsSize","item1","item2","item3","LoginBlock","g","header","logo","quote","loginBlock","News","Preloader","preloader","ProfileStatusHook","setStatus","editMode","setEditMode","span","onDoubleClick","clickUserId","onChange","e","currentTarget","onBlur","autoFocus","massIcon","facebook","youtube","twitter","github","vk","instagram","ViewSocialIcons","item","href","ProfileData","activeEditeMode","dataBlock","fullName","gridBlock","spanItem","aboutMe","lookingForAJob","lookingForAJobDescription","socialIcons","Object","keys","contacts","maxLength20","maxLength200","ProfileDataReduxForm","profileForm","spanForm","bForm","validate","formSummaryError","ProfileInfo","savePhoto","flexBlock","itemImg","large","input_btn","htmlFor","files","itemInfo","initialValues","Post","dataMyPosts","reverse","p","maxLength300","AddMyPostReduxForm","formAddPost","MyPosts","addPost","MyPostsContainer","addPostActionCreator","MySubscriptions","blockSubscriptions","Profile","profilePage","ProfileAPI","this","params","history","push","getProfileThunkCreator","getStatusThunkCreator","refresh","prevProps","prevState","snapshot","updateStatusThunkCreator","updateProfilePhotoThunkCreator","saveProfileThunkCreator","React","Component","withRouter","Home","pageHome","n","text","Register","Recipes","Universal","maxLength30","maxLength10","LoginReduxForm","loginForm","loginFormInput","loginFormRememberMe","loginFormButton","LoginThunkCreator","messages","stopSubmit","_error","wrapperBlockForm","blockForm","Pagination","userCount","onPageChange","pagesCount","Math","ceil","pages","i","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","OneUser","blockFoto","disabled","some","blockName","Counter","counterUsers","numbers","AllUsers","getPageSize","getUsersCount","getCurrentPage","getIsFetching","getIsFollowingProgress","AllUsersAPI","createSelector","pageNumber","MessageApi","lazy","App","catchAllUnhandledErrors","promiseRejectionEvent","console","log","InitializationThunkCreator","render","Suspense","fallback","exact","promise","Promise","all","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","img1","like","img2","img3","getState","reject"],"mappings":"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","file":"static/js/main.33ddd23c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__T-Z7A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"myPosts_block__3AxVn\",\"input_text\":\"myPosts_input_text__1DcRc\",\"reset_properties\":\"myPosts_reset_properties__2zZUO\",\"formAddPost\":\"myPosts_formAddPost__e5lOq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currentPage\":\"Paginator_currentPage__2GO7u\",\"block\":\"Paginator_block__3Ss0y\"};","import face from \"../img/icons/user.jpg\";\r\nimport {act} from \"react-dom/test-utils\";\r\n\r\n\r\n\r\nconst ADD_MESS = 'ADD-MESS';\r\n\r\ntype photoType={\r\n    small:string|null\r\n    large?:string|null\r\n}\r\ntype dataUsersType ={\r\n    photos:photoType\r\n    id: number|null\r\n    name: string|null\r\n    mess: string|null\r\n}\r\ntype initialStateType = {\r\n    dataDialogs:Array<dataUsersType>\r\n}\r\ntype actionType={\r\n    type: typeof ADD_MESS\r\n    message: string|null\r\n   photo:string|null\r\n    login: string|null\r\n    userId: number|null\r\n}\r\n\r\nlet initialState:initialStateType = {\r\n    dataDialogs: [\r\n        {photos:{small:face}, id: 1, name: 'vlad', mess: 'hi'},\r\n        {photos:{small:face}, id: 2, name: 'alex', mess: 'тру ля ля'},\r\n        {photos:{small:face}, id: 3, name: 'anna', mess: 'бла бла' },\r\n        {photos:{small:face}, id: 4, name: 'mark', mess: 'ку ку'},\r\n        {photos:{small:face}, id: 5, name: 'john', mess: 'цук цук'}\r\n    ]\r\n};\r\n\r\n\r\n const dialogReducer =  (state = initialState, action:actionType):initialStateType => {\r\n     switch (action.type) {\r\n         case  ADD_MESS:\r\n             return {//делаем копию объекта, т.к. не имеет право менять state напрямую, и сразу возвращаем его\r\n                 ...state,\r\n                 dataDialogs: [...state.dataDialogs, {photos:{small:action.photo}, mess: action.message,  name:action.login, id: action.userId}]\r\n             };\r\n             // dataDialogs: [...state.dataDialogs - глубоко копируем только то, что будем менять\r\n\r\n         default:\r\n             return state;\r\n     }\r\n\r\n\r\n\r\n};\r\nexport const addMessActionCreator =(message:string|null, login:string|null, photo:string, userId:number):actionType=> ({type: ADD_MESS, login,message,photo,userId});// если функция только возвращает  можно не ставить return\r\n\r\n\r\n\r\nexport default dialogReducer;\r\n\r\n/*let newArr = state.dataDialogs[state.dataDialogs.length-1];\r\n             let id = newArr.id;\r\n             id=id+1;*/","import * as axios from \"axios\";\r\n\r\nconst instance =  axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        \"api-key\":\"2a358658-5509-4853-b559-d1ee110511e4\"\r\n    },\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\"\r\n});\r\n\r\nexport const usersApi = {\r\n    getUsers (currentPage, pageSize)  {\r\n\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n\r\n    },\r\n    getUsersForName (name)  {\r\n        return instance.get(`users?term=${name}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n\r\n    },\r\n    getFollowedUsers(friend) {\r\n        return instance.get(`users?friend=${friend}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    unSubscribeUsers(usersId) {\r\n        return instance.delete(`follow/${usersId}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    subscribeUsers(usersId) {\r\n        return instance.post(`follow/${usersId}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    }\r\n\r\n};\r\n export const authApi = {\r\n     authentication () {\r\n         return    instance.get(`auth/me`);\r\n     },\r\n     login(email, password, rememberMe = false, captcha = null){\r\n         return    instance.post(`auth/login`,{email, password, rememberMe,captcha });\r\n     },\r\n     logout(){\r\n         return    instance.delete(`auth/login`);\r\n\r\n     },\r\n     getCaptcha(){\r\n         return  instance.get(`security/get-captcha-url`);\r\n     }\r\n };\r\n\r\n export const profileApi  = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/`+ userId);\r\n\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/`+ userId);\r\n    },\r\n     updateStatus (status){\r\n         //отправляем на сервер объект у которого есть свойство status: (эти данные\r\n         // берем из API документации, которую нам должен предоставить backend разработчик\r\n         return instance.put(`profile/status/`,{status: status});\r\n\r\n     },\r\n     addPhoto (file){\r\n         //отправляем на сервер объект у которого есть свойство status: (эти данные\r\n         // берем из API документации, которую нам должен предоставить backend разработчик\r\n        let formData = new FormData();\r\n        formData.append(\"image\",file);\r\n         return instance.put(`profile/photo/`,formData,{\r\n             headers:{\r\n                 \"Content-Type\": \"multipart/form-data\"\r\n             }\r\n         });\r\n\r\n     },\r\n     saveProfile (profile){\r\n         return instance.put(`profile/`,profile);\r\n\r\n     },\r\n };\r\n\r\nexport const HomeApi  = {\r\n    getNews (currentPage, pageSize)  {\r\n        return instance.get(`news?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n};","import React from \"react\";\r\nimport classes from './Users.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport face from \"../../../img/icons/user.jpg\";\r\n\r\nconst Users = ({massUsers}) =>{\r\n\r\n    //console.log(props);\r\n    let path='/dialogs/';\r\n    let dialog = massUsers.map(d=>\r\n        <div key={d.id +=1 } className={classes.dialog}>\r\n             <img src={ d.photos.small||face} alt=\"\"/>\r\n            <NavLink to={path + d.id}> <b>{d.name} </b>  </NavLink>\r\n            <span>{d.mess||d.status}</span>\r\n\r\n        </div>\r\n    );\r\n\r\n    return( <div>{dialog} </div> )\r\n\r\n};\r\nexport  default  Users;","import classes from \"../Message/Message.module.css\";\r\nimport React from \"react\";\r\nimport Button from \"../Button/Button\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../commons/FormControls/FormControls\";\r\nimport Users from \"../Message/Users/Users\";\r\n\r\n\r\n\r\nconst SearchUsersForm = (props) =>{\r\n    return(\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={classes.search}>\r\n            <div className={classes.inputSearch}><Field  type=\"text\" name={'searchUsers'} placeholder={'введите имя'} component={Input} /></div>\r\n            <div className={classes.buttonSearch}> <Button  value=\"поиск\"/></div>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\nconst SearchUsersReduxForm = reduxForm({//контейнерная компонента,созда-\r\n    // a unique name for the form\r\n    //каждая форма должна иметь уникальное строковое имя (для распознавания ее редаксформом)\r\n    form: 'searchUsers'//form: - это название не связано с form из store.js\r\n})(SearchUsersForm);//-ется редаксформ над презентационной компонентой\r\n\r\n\r\n\r\nconst SearchUsers = (props) =>{\r\n    const onSubmit = (formData) => {// сюда придут данные их формы, передаем эту  функцию в LoginReduxForm чтоб получить эти данные из формы\r\n        props.getUsersSearchThunkCreator(formData.searchUsers);\r\n    };\r\n\r\n\r\n    return ( <div className={classes.searchUsers}>\r\n                 <SearchUsersReduxForm onSubmit = {onSubmit}/><br/>\r\n                 <div>\r\n                     <Users massUsers={props.users}/>\r\n                 </div>\r\n            </div>)\r\n};\r\n\r\nexport  default SearchUsers;","\r\nimport {connect} from \"react-redux\";\r\nimport {getUsersSearchThunkCreator} from \"../../redux/usersReducer\";\r\nimport SearchUsers from \"./SearchUsers\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: state.usersPage.searchUsersForName\r\n    }\r\n\r\n};\r\n\r\n\r\nconst SearchUsersContainer = connect(mapStateToProps,{getUsersSearchThunkCreator} )(SearchUsers);//сoздаем контейнерную компоненту для AddMessage с помощью библиотеки react-redux (connect)\r\n\r\n\r\n\r\nexport  default SearchUsersContainer;\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/photo_2020-09-27_22-49-04.b4025f71.jpg\";","module.exports = __webpack_public_path__ + \"static/media/photo_2020-09-27_23-09-47.c45bc7cb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/img.9ee2af04.PNG\";","module.exports = __webpack_public_path__ + \"static/media/photo_2020-09-28_15-41-54.8fd900e4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/photo_2020-09-28_15-43-51.5ceaed1a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/photo_2020-09-28_15-47-29.8a8ce1f2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/photo_2020-09-28_15-49-18.0ff5ceae.jpg\";","module.exports = __webpack_public_path__ + \"static/media/test.3e61e799.PNG\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profilePage\":\"profile_profilePage__3gpI7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Preloader_block__AqmbW\"};","module.exports = __webpack_public_path__ + \"static/media/327.00c902b6.gif\";","module.exports = __webpack_public_path__ + \"static/media/facebook_101791.68eec5b0.svg\";","import React from \"react\";\r\nimport classes from './Button.module.css';\r\n\r\nconst Button = (props) =>{\r\n    return(\r\n        <div className={classes}>\r\n            <button color={props.color} className={classes.btn} onClick={props.onClick}> {props.value} </button>\r\n        </div>\r\n    )\r\n};\r\nexport  default  Button;","module.exports = __webpack_public_path__ + \"static/media/youtube_101764.897ad0ad.svg\";","module.exports = __webpack_public_path__ + \"static/media/twitter_101809.4caedb1a.svg\";","module.exports = __webpack_public_path__ + \"static/media/github_101792.fdc7b46a.svg\";","module.exports = __webpack_public_path__ + \"static/media/instagram_101780.697d5d4a.svg\";","module.exports = __webpack_public_path__ + \"static/media/vk_101783.b6b62649.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"post_item__2Q5sv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Users_dialog__3AOii\",\"active\":\"Users_active__1d9P7\"};","export const  requiredField = value => {\r\n    if (value) return undefined;\r\n    return \"Поле обязательно к заполнению\";\r\n};\r\n\r\nexport const  maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `максимальная длина ${maxLength} символов `;\r\n    return undefined;\r\n};\r\n\r\n","module.exports = \"data:image/jpeg;base64,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\"","export const updateMass = (items, itemsId,propName, property ) => {\r\n  return  items.map(u => {\r\n        if (u[propName] === itemsId) {\r\n            return {...u, ...property}\r\n        }\r\n        return u;\r\n    })\r\n};\r\n\r\n","import {usersApi} from \"../api/api\";\r\nimport {updateMass} from \"../utils/mapingState\";\r\n\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst  UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_SEARCH_USERS_FOR_NAME = \"SET_SEARCH_USERS_FOR_NAME\";\r\nconst SET_FOLLOWED_USERS = 'SET_FOLLOWED_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_USERS_COUNT = 'SET_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING = 'TOGGLE_IS_FOLLOWING';\r\n\r\n\r\nlet initialState = {\r\n    users:[],\r\n    searchUsersForName:[],\r\n    usersFollowed:[],\r\n        /*{id:1, foto: face, followod: true, fullName:\"Alex D.\", usersStatus:'всем привет :)', locations:{city:'minsk',country:'belarus'}},\r\n        {id:2, foto: face, followod: false, fullName:\"John D.\", usersStatus:'всем привет :)', locations:{city:'minsk',country:'belarus'}},\r\n        {id:3, foto: face, followod: true, fullName:\"Bikki D.\", usersStatus:'всем привет :)', locations:{city:'minsk',country:'belarus'}}*/\r\n\r\n    pageSize: 5,\r\n    usersCount: 0,\r\n    currentPage: 1,\r\n    friend: true,\r\n    isFetching: false,//  приставка is для названия переменных с булевым значением: true/false\r\n    isFollowingProgress: []\r\n};\r\n\r\nconst usersReducer =  (state = initialState, action) => {\r\n\r\n//console.log(action);\r\n    switch (action.type) {\r\n\r\n        case FOLLOW:\r\n            return  {\r\n                ...state,\r\n                users:updateMass(state.users, action.userId,'id', {followed: true})\r\n            };\r\n        case UNFOLLOW:\r\n            return  {\r\n                ...state,\r\n                users:updateMass(state.users, action.userId,'id', {followed: false})// рефакторинг\r\n                    /*[...state.users.map(u => {\r\n                    if (u.id === action.userId){\r\n                        return {...u, followed: false }\r\n                    }\r\n                    return u;\r\n                })\r\n\r\n                ]//используем map() - он копирует и возвращает новый объект (так делаем если надо изменить элемент в массиве)\r\n           */\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n                };\r\n        case SET_SEARCH_USERS_FOR_NAME:\r\n            return {\r\n                ...state,\r\n                searchUsersForName: action.users\r\n            };\r\n        case SET_FOLLOWED_USERS:\r\n            return {\r\n                ...state,\r\n                usersFollowed: action.usersFollowed\r\n            };\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n               //кстарому массиву добавили новый (который получаем из БД)\r\n            };\r\n        case SET_USERS_COUNT:\r\n            return {\r\n                ...state, usersCount: action.usersCount\r\n                //кстарому массиву добавили новый (который получаем из БД)\r\n            };\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            };\r\n        case TOGGLE_IS_FOLLOWING:\r\n            return {\r\n                ...state,\r\n                isFollowingProgress: action.isFollowingProgress\r\n                    ? [...state.isFollowingProgress, action.userId]\r\n                    : state.isFollowingProgress.filter(id => id !== action.userId)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\n// функции action creaters  - возвращают action\r\nexport const follow =(userId)=> ({type: FOLLOW, userId });// если функция только возвращает  можно не ставить return\r\nexport const unfollow = (userId) =>({ type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setFollowedUsers = (usersFollowed) => ({type: SET_FOLLOWED_USERS, usersFollowed});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setUsersCount = (usersCount) => ({type: SET_USERS_COUNT, usersCount});\r\nexport const setToggleIsFetching = (isFetching) =>({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const  setToggleIsFollowing = (isFollowingProgress, userId) => ({type: TOGGLE_IS_FOLLOWING, isFollowingProgress, userId});\r\nexport const setSearchUsers = (users) => ({type: SET_SEARCH_USERS_FOR_NAME, users});\r\n\r\n//делаем thunc - функция котоая диспатчит action creaters если санке нужны какие-то данные, оборачиваем ее\r\n// в функцию высшего порядка ThuncCreater (может принимать данные и возвращает Thunc)\r\n// и в нее передаем неолбходимые данные\r\nexport  const  getUsersThunkCreator = (currentPage,pageSize) => {\r\n   return (dispatch) => {\r\n    dispatch(setToggleIsFetching(true));\r\n    dispatch(setCurrentPage(currentPage));\r\n    usersApi.getUsers(currentPage, pageSize).then(data => {\r\n       dispatch(setToggleIsFetching(false));\r\n       dispatch(setUsers(data.items));\r\n       dispatch(setUsersCount(data.totalCount));\r\n    });\r\n\r\n}};\r\nexport  const  getUsersSearchThunkCreator = (name) => {\r\n    return (dispatch) => {\r\n        usersApi.getUsersForName(name).then(data => {\r\n            dispatch(setSearchUsers(data.items));\r\n        });\r\n\r\n    }};\r\n\r\n\r\nexport  const  getFollowedUsersThunkCreator = (friend) => {\r\n    return (dispatch) => {\r\n        usersApi.getFollowedUsers(friend).then(data => {\r\n            dispatch(setFollowedUsers(data.items));\r\n        });\r\n\r\n    }};\r\n\r\n//т к в санках follow/unfollow есть дублирующийся код, делаем рефакторинг ,\r\n// для этого создаем универсальную функцию\r\n// а затем ее уже будем вызывать в санках\r\n    const followUnfollow = async (dispatch, id, apiMethod, actionCreator) => {\r\n        dispatch(setToggleIsFollowing(true, id));\r\n        let data = await apiMethod(id);\r\n        if(data.resultCode === 0){\r\n            dispatch(actionCreator(id));\r\n        }\r\n        dispatch(setToggleIsFollowing(false, id));\r\n    };\r\n    export  const  followThunkCreator = (id) => {\r\n        return async (dispatch) => {\r\n            followUnfollow(dispatch, id, usersApi.subscribeUsers.bind(usersApi), follow);\r\n        }\r\n    };\r\n    export  const  unFollowThunkCreator = (id) => {\r\n        return async (dispatch) => {\r\n            followUnfollow(dispatch, id, usersApi.unSubscribeUsers.bind(usersApi), unfollow);\r\n        }\r\n};\r\n/*\r\n   // санки до рефакторинга\r\nexport  const  followThunkCreator = (id) => {\r\n    return (dispatch) => {\r\n        dispatch(setToggleIsFollowing(true, id));\r\n        usersApi.subscribeUsers(id).then(data => {\r\n            if(data.resultCode === 0){\r\n                dispatch(follow(id));\r\n            }\r\n            dispatch(setToggleIsFollowing(false, id));\r\n        });\r\n\r\n    }};\r\n\r\nexport  const  unFollowThunkCreator = (id) => {\r\n    return (dispatch) => {\r\n        dispatch(setToggleIsFollowing(true, id));\r\n        usersApi.unSubscribeUsers(id).then(data => {\r\n            if(data.resultCode === 0){\r\n                dispatch(unfollow(id));\r\n            }\r\n            dispatch(setToggleIsFollowing(false, id));\r\n        });\r\n\r\n    }};\r\n*/\r\n\r\nexport default usersReducer;\r\n\r\n\r\n/*//делаем thunc - функция котоая диспатчит action creaters,\r\nесли санке нужны какие-то данные, оборачиваем ее\r\nв функцию высшего порядка ThuncCreater (может принимать данные и возвращает Thunc)\r\nи в нее передаем неолбходимые данные\r\nexport  const  getUsers = (dispatch) => {\r\n    dispatch.setToggleIsFetching(true);\r\n    usersApi.getUsers(this.props.currentPage, this.props.pageSize).then(data => {\r\n       dispatch.setToggleIsFetching(false);\r\n       dispatch.setUsers(data.items);\r\n        dispatch.setUsersCount(data.totalCount);\r\n    });\r\n\r\n}\r\n*/","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flexBlock\":\"ProfileInfo_flexBlock__3arRV\",\"itemImg\":\"ProfileInfo_itemImg__2j1qW\",\"itemInfo\":\"ProfileInfo_itemInfo__10FqK\",\"socialIcons\":\"ProfileInfo_socialIcons__1WQ1u\",\"input_btn\":\"ProfileInfo_input_btn__AbHfW\",\"displayNone\":\"ProfileInfo_displayNone__Bq_nk\",\"span\":\"ProfileInfo_span__3ZoS0\",\"profileForm\":\"ProfileInfo_profileForm__2GzWO\",\"spanForm\":\"ProfileInfo_spanForm__yJoGC\",\"bForm\":\"ProfileInfo_bForm__pRC5K\",\"gridBlock\":\"ProfileInfo_gridBlock__20fv9\"};","import React from \"react\";\r\nimport classes from \"./FormControls.module.css\"\r\n\r\nconst FormControl = ({child, input ,meta ,...props}) =>{\r\n    const showError = meta.touched && meta.error;//meta.touched - сидят данные быь ли тронут инпут, meta.error- сидит вид ошибки\r\n    return (\r\n        <div className={showError ? classes.error: undefined}>\r\n            {props.children}<br/>\r\n            { showError && <span className={classes.spanError}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport  const Textarea = (props) => {//rest-оператор (достаем из пропсов input и meta остальное деструктуризируем\r\n      const{input ,meta, child,...restprops}   = props;\r\n    return <FormControl {...props}> <textarea {...input} {...restprops}  className={classes.textareaAddMess}/></FormControl>\r\n};\r\n\r\nexport  const Input = (props) => {//rest-оператор (достаем из пропсов input и meta остальное деструктуризируем\r\n    const{input ,meta, child,...restprops}   = props;\r\n    return <FormControl {...props}> <input {...input} {...restprops}  className={classes.input}/></FormControl>\r\n\r\n};\r\n\r\n\r\n/*export  const Textarea = ({input ,meta ,...props}) => {//rest-оператор (достаем из пропсов input и meta остальное деструктуризируем\r\n\r\n    const showError = meta.touched && meta.error;//meta.touched - сидят данные быь ли тронут инпут, meta.error- сидит вид ошибки\r\n    return (\r\n        <div className={showError && classes.error}>\r\n            <textarea {...input} {...props}  className={classes.textareaAddMess}/> <br/>\r\n            { showError && <span className={classes.spanError}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n};\r\n\r\n export  const Input = ({input ,meta ,...props}) => {//rest-оператор (достаем из пропсов input и meta остальное деструктуризируем\r\n\r\n    const showError = meta.touched && meta.error;//meta.touched - сидят данные быь ли тронут инпут, meta.error- сидит вид ошибки\r\n    return (\r\n        <div className={showError && classes.error}>\r\n            <input {...input} {...props}  className={classes.input}/> <br/>\r\n            { showError && <span className={classes.spanError}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n};*/","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Navblock_block__2TNPu\",\"itemsSize\":\"Navblock_itemsSize__5PNLS\",\"link\":\"Navblock_link__11P_w\",\"item1\":\"Navblock_item1__3AzKT\",\"item2\":\"Navblock_item2__3SZKq\",\"item3\":\"Navblock_item3__29TZG\",\"login\":\"Navblock_login__3--HP\"};","module.exports = __webpack_public_path__ + \"static/media/photo_2020-09-28_00-46-32.10b077fe.jpg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {authApi} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n//процессит текущего пользователя\r\n\r\nconst  SET_USERS_DATA = 'SET_USERS_DATA';\r\nconst  SET_CAPTCHA = 'SET_CAPTCHA';\r\n\r\nexport type initialStateType={\r\n    userId: number|null,\r\n    login: string|null,\r\n    email: string|null,\r\n    isAuth: boolean,\r\n    captchaUrl: string|null\r\n}\r\nlet initialState:initialStateType = {\r\n    userId: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n};\r\ntype usersDataType ={\r\n    userId:number|null\r\n    login: string|null,\r\n    email: string|null,\r\n    isAuth: boolean\r\n}\r\ntype usersDataActionType = {\r\n    type: typeof SET_USERS_DATA\r\n    data: usersDataType\r\n}\r\ntype captchaActionType={\r\n    type: typeof SET_CAPTCHA\r\n    data:{captchaUrl:string}\r\n}\r\n\r\nconst authReducer =  (state = initialState, action:any):initialStateType => {\r\n    switch (action.type) {\r\n        case    SET_USERS_DATA:\r\n        case    SET_CAPTCHA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport const setAuthUsersData =(userId:number|null, email:string|null, login:string|null, isAuth:boolean):usersDataActionType=> ({type: SET_USERS_DATA, data:{userId,email,login,  isAuth} });// если функция только возвращает  можно не ставить return\r\nconst setCaptcha = (captchaUrl:string):captchaActionType => ({type: SET_CAPTCHA, data: {captchaUrl}});\r\n//thunk\r\nexport  const  AuthThunkCreator = () => async (dispatch:any) => {\r\n   let response = await authApi.authentication();\r\n            if(response.data.resultCode === 0){\r\n                let{id, email, login} = response.data.data;\r\n                dispatch(setAuthUsersData(id, email, login,  true));\r\n            }\r\n    };\r\n\r\n//thunk\r\nexport  const  LoginThunkCreator = (email:string, password:string, rememberMe:boolean, captchaUrl:string) => async (dispatch:any) => {\r\n      let response = await  authApi.login(email, password, rememberMe, captchaUrl);\r\n            if(response.data.resultCode === 0){\r\n                dispatch(AuthThunkCreator())\r\n            } else {\r\n                if(response.data.resultCode === 10){\r\n                    dispatch(getCaptchaThunkCreator());\r\n                }\r\n                let message = response.data.messages.length >0 ? response.data.messages[0] : \" Ошибка\";\r\n                dispatch(stopSubmit(\"login\",{_error: message}));// stopSubmit() - это action creator из redux form , останавливает отправку формы в скабках указываем какую именно форму останавливаем (name)\r\n            }\r\n    };\r\n\r\n//thunk\r\nexport  const  LogoutThunkCreator = () => async (dispatch:any) => {\r\n      let response = await  authApi.logout();\r\n            if(response.data.resultCode === 0) {\r\n                dispatch(setAuthUsersData(null, null, null, false));\r\n            }\r\n    };\r\nexport const getCaptchaThunkCreator = () => async (dispatch:any) => {\r\n   const response = await authApi.getCaptcha();\r\n   const capchaUrl = response.data.url;\r\n    dispatch(setCaptcha(capchaUrl));\r\n};\r\n\r\nexport default authReducer;","\r\nimport {AuthThunkCreator} from \"./authReducer\";\r\n\r\n\r\n\r\nconst  SET_INITIALIZATION = ' SET_INITIALIZATION';\r\n\r\nlet initialState = {\r\n    initialization: false\r\n};\r\nexport type initialStateType  = typeof initialState;\r\ntype actionType = {\r\n    type: typeof SET_INITIALIZATION\r\n}\r\n\r\n\r\n\r\nconst appReducer =  (state = initialState, action:actionType):initialStateType => {\r\n    switch (action.type) {\r\n        case  SET_INITIALIZATION:\r\n            return {\r\n                ...state,\r\n                initialization: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n const setInitialization =():actionType=> ({type: SET_INITIALIZATION });// если функция только возвращает  можно не ставить return\r\n\r\n//thunk\r\nexport  const  InitializationThunkCreator = () => (dispatch:any) => {\r\n       let promise =  dispatch(AuthThunkCreator());\r\n\r\n    Promise.all ([promise])\r\n        .then( () =>{// если промисов несколько оборачиваем их в массив - Promise.all ([promise]).then...\r\n              dispatch(setInitialization() );\r\n\r\n        });\r\n\r\n        };\r\n\r\nexport default appReducer;","\r\n\r\nconst  SET_MENU = ' SET_MENU';\r\n\r\nlet initialState = {\r\n    menuItems:[\r\n        {id:1, title: \"главная\", path:\"/#\"},\r\n        {id:2, title: \"чат\", path:\"/dialogs\"},\r\n        {id:3, title: \"пользователи\", path:\"/users\"}\r\n    ]\r\n\r\n};\r\n\r\n\r\nconst menuReducer =  (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case  SET_MENU:\r\n            return {\r\n                ...state,\r\n                menuItems: [...state.menuItems, action.data]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n\r\n};\r\nexport const setMenu =(id, title, path)=> ({type: SET_MENU, data: {id, title, path} });// если функция только возвращает  можно не ставить return\r\n\r\n\r\n\r\nexport default menuReducer;","import {HomeApi} from \"../api/api\";\r\nimport photo1 from \"../img/links/img.PNG\";\r\nimport photo2 from \"../img/links/photo_2020-09-27_23-14-45.jpg\";\r\nimport photo3 from \"../img/links/photo_2020-09-28_15-41-54.jpg\";\r\nimport photo4 from \"../img/links/photo_2020-09-28_15-43-51.jpg\";\r\nimport photo5 from \"../img/links/photo_2020-09-28_15-47-29.jpg\";\r\nimport photo6 from \"../img/links/photo_2020-09-28_15-49-18.jpg\";\r\nimport photo7 from \"../img/links/test.PNG\"\r\n\r\nconst SET_NEWS = 'SET_NEWS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_NEWS_COUNT = 'SET_NEWS_COUNT';\r\n\r\nlet initialState = {\r\n    news:[\r\n        {id:1, title:\"Тестовые Email и Password\", img:photo7, description:\" логин и пароль для тестирования приложения\", link:\"\"},\r\n        {id:2, title:\"BGJar\", img:photo1, description:\"BGJar - бесплатный генератор svg-фонов для ваших сайтов.\", link:\"https://bgjar.com\"},\r\n        {id:3, title:\"Анимируйте SVG viewBox с помощью React.\", img:photo2, description:\"В этом посте я буду анимировать комикс, используя новую версию Popmotion, которая является универсальной библиотекой анимации, а также Фреймер Motion, который построен поверх Popmotion и является специфичным для React.\", link:\"https://elijahmanor.com/blog/react-svg-viewbox\"},\r\n        {id:4, title:\"Архитектура Front-end: стабильные и изменчивые зависимости.\", img:photo3, description:\"Правильное проектирование зависимостей является важным навыком для архитектора интерфейсных приложений. Первый шаг к созданию хорошего дизайна-это идентификация стабильных и изменчивых зависимостей и их соответствующее лечение. В этом посте вы узнаете, как это сделать.\", link:\"https://dmitripavlutin.com/frontend-architecture-stable-and-volatile-dependencies/\"},\r\n        {id:5, title:\"Как не закопаться в рефакторинге на фронте. Советы новичку.\", img:photo4, description:\"Имея опыт с действительно долгосрочными историями, автор статьи собрал несколько советов о том, как не “стрелять в ноги” себе, своим коллегам и тем, кто придет на проект после вас.\", link:\"https://habr.com/ru/company/maxilect/blog/515082\"},\r\n        {id:6, title:\"Новое CSS-свойство content-visibility ускоряет отрисовку страницы в несколько раз.\", img:photo5, description:\"5 августа 2020 разработчики Google анонсировали новое CSS-свойство content-visibility в версии Chromium 85. Оно должно существенно повлиять на скорость первой загрузки и первой отрисовки на сайте\", link:\"https://habr.com/ru/company/vdsina/blog/514760\"},\r\n        {id:7, title:\"Практическое руководство по интеграции Google Maps в React. \", img:photo6, description:\"Есть ряд причин, по которым вы можете интегрировать Карты Google в свое приложение React, и мы рассмотрим одну из самых популярных: отображение вашего служебного адреса. Затем вы можете использовать это в качестве основы для других, более сложных случаев, если хотите.\", link:\"https://blog.logrocket.com/a-practical-guide-to-integrating-google-maps-in-react\"}\r\n    ],\r\n    pageSize: 5,\r\n    newsCount: 0,\r\n    currentPage: 1,\r\n};\r\n\r\nconst newsReducer =  (state = initialState, action) => {\r\n\r\n//console.log(action);\r\n    switch (action.type) {\r\n        case SET_NEWS:\r\n            return {\r\n                ...state,\r\n                news: action.news\r\n            };\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n                //кстарому массиву добавили новый (который получаем из БД)\r\n            };\r\n        case SET_NEWS_COUNT:\r\n            return {\r\n                ...state, newsCount: action.newsCount\r\n                //кстарому массиву добавили новый (который получаем из БД)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\nexport const setNews = (news) => ({type: SET_NEWS, news});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setNewsCount = (newsCount) => ({type: SET_NEWS_COUNT, newsCount});\r\n\r\n\r\nexport  const  getNewsThunkCreator = (currentPage,pageSize) => {\r\n    return (dispatch) => {\r\n        dispatch(setCurrentPage(currentPage));\r\n        HomeApi.getNews(currentPage, pageSize).then(data => {\r\n            dispatch(setNews(data.items));\r\n            dispatch(setNewsCount(data.totalCount));\r\n        });\r\n\r\n    }};\r\n\r\nexport default newsReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogReducer from \"./dialogReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\nimport menuReducer from \"./menuReducer\";\r\nimport newsReducer from \"./NewsReducer\";\r\n\r\n//импортируем редаксовский редьюсер\r\n// redux  - библиотека,  состоит из store  у которого есть  state и  reducers\r\n\r\nlet reducers = combineReducers(\r\n    {\r\n        profile: profileReducer,\r\n        dialogs: dialogReducer,\r\n        usersPage: usersReducer,\r\n        auth: authReducer,\r\n        form: formReducer,//редаксовский\r\n        app: appReducer,\r\n        headerMenu: menuReducer,\r\n        news: newsReducer\r\n\r\n    }\r\n\r\n);\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__|| compose;//для подключения к проекту расширения REDUX для google chrom\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n));\r\n/*\r\n  let store = createStore(reducers,applyMiddleware(thunkMiddleware));\r\n  window.store = store;// сохранили store в глобальный объект window\r\n*/\r\nexport default store;\r\n// у store есть 3 основных метода -\r\n// store.getState(), получить актуальные данные из state\r\n// store.Subckriber(subskriber), подписаться на изменения\r\n// store.dispatch(action) преобразовать state","import  React from \"react\";\r\nimport styled from \"styled-components\";\r\n//import MenuBurger from \"./MenuDropdown\";\r\n\r\nconst StyledHamburger = styled.button`\r\n  position: fixed;\r\n  left: 12rem;\r\n  top: 25px;\r\n  width: 2rem;\r\n  height: 2rem;\r\n  padding: 0;\r\n  background: transparent;\r\n  \r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  border: none;\r\n  cursor: pointer;\r\n  outline: none;\r\n  z-index: 1;\r\n  div {\r\n    position: relative;\r\n    width: 2rem;\r\n    height: 0.25rem;\r\n    border-radius: 10px;\r\n    background-color: #00BCDF;\r\n     transition: all 0.3s linear;\r\n    transform-origin: 1px;\r\n  \r\n    :first-child {\r\n      transform: ${({ open }) =>\r\n    (open ? \"rotate(45deg)\" : \"rotate(0)\")};\r\n    }\r\n    :nth-child(2) {\r\n      opacity: ${({ open }) => (open ? \"0\" : \"1\")};\r\n      transform: ${({ open }) =>\r\n    (open ? \"translateX(20px)\":\"translateX(0)\")};\r\n    }\r\n    :nth-child(3) {\r\n      transform: ${({ open }) =>\r\n    (open ? \"rotate(-45deg)\" : \"rotate(0)\")};\r\n    }\r\n  }\r\n  @media (max-width: 576px) {\r\n   left:7rem;\r\n  }\r\n`;\r\n\r\n\r\n\r\nconst Hamburger = (props) => (\r\n    <StyledHamburger\r\n        open={props.open}\r\n        onClick={() => props.setOpen(!props.open)}\r\n    >\r\n        <div />\r\n        <div />\r\n        <div />\r\n    </StyledHamburger>\r\n);\r\n\r\nexport default Hamburger;","import React, {useEffect, useRef} from \"react\";\r\nimport {useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Hamburger from \"./Hamburger\";\r\nimport classes from \"./Navbar.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst StyledMenu = styled.nav `\r\n  top: 0;\r\n  left: 0;\r\n  height: 100vh;\r\n  width: 35vw;\r\n  position: fixed;\r\n  background-color: rgb(255, 255, 255, 0.9);\r\n  z-index: 1;\r\n  padding: 80px 0;\r\n  flex-direction: column;\r\n  text-align: left;\r\n  display: ${({ open }) => (open ? \"flex\" : \"none\")};\r\n  transition: transform 0.3s ease-in-out;\r\n  transform: ${({ open }) =>\r\n    (open ? \"translateX(0)\" :\"translateX(-100%)\")};\r\n    @media (max-width: 524px) {\r\n   width:60%;\r\n  }\r\n`;\r\nconst StyledLink = styled(NavLink) `\r\n  padding: 10px;\r\n  font-size: 1rem;\r\n  color: #00BCDF;\r\n  font-weight: 900;\r\n  text-decoration: none;\r\n  text-transform: uppercase;\r\n  transition: all 0.5s ease 0s;\r\n  \r\n  :hover {\r\n    color: #ffffff;\r\n    background-color:#00BCDF;\r\n    color: #ffffff;\r\n    cursor: pointer;\r\n  }\r\n`;\r\nfunction useOnClickOutside(ref, handler) {\r\n    useEffect(\r\n        () => {\r\n            const listener = event => {\r\n                // Do nothing if clicking ref's element or descendent elements\r\n                if (!ref.current || ref.current.contains(event.target)) {\r\n                    return;\r\n                }\r\n\r\n                handler(event);\r\n            };\r\n\r\n            document.addEventListener('mousedown', listener);\r\n            document.addEventListener('touchstart', listener);\r\n\r\n            return () => {\r\n                document.removeEventListener('mousedown', listener);\r\n                document.removeEventListener('touchstart', listener);\r\n            };\r\n        },[ref, handler]\r\n    );\r\n}\r\nconst MenuBurger = ({mass})=> {\r\n\r\n    const [open, setVisible] = useState(false);\r\n    const close = () => setVisible(false);\r\n    const ref = useRef();\r\n    useOnClickOutside(ref, () => setVisible(false));\r\n    const drawDropdownMenu  = (mass) => {\r\n        return    ( mass.map(m =>\r\n                <StyledLink key={m.id} onClick={() => close()} to={m.path} activeClassName={classes.active}>{m.title}</StyledLink>\r\n        )\r\n\r\n        )\r\n    };\r\n\r\n    return (\r\n        <div ref={ref}>\r\n            <StyledMenu open={open}>\r\n                {drawDropdownMenu(mass)}\r\n            </StyledMenu>\r\n            <Hamburger open={open} setOpen={setVisible} />\r\n\r\n        </div>\r\n    );\r\n};\r\nexport default MenuBurger;","import React from \"react\";\r\nimport classes from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport MenuDropdown from \"./MenuDropdown\";\r\n\r\n\r\nconst Navbar = ({menuItems})=> {\r\n\r\n    const drawMenu  = (mass) => {\r\n        return    ( mass.map(m =>\r\n            <li key={m.id} className={classes.menuItem}><NavLink to={m.path} activeClassName={classes.active}>{m.title}</NavLink></li>\r\n         ))\r\n    };\r\n\r\n        return (\r\n            <div  className={classes.navbarMenu}>\r\n                   <div className={classes.burger}>\r\n                       <MenuDropdown mass = {menuItems} />\r\n                   </div>\r\n\r\n                <ul className={classes.menu} >\r\n                   { drawMenu(menuItems)}\r\n                </ul>\r\n            </div>\r\n        );\r\n\r\n};\r\nexport default Navbar;\r\n\r\n/*class Navbar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            menuDisplay: false\r\n        };\r\n        this.handleClickBurger = this.handleClickBurger.bind(this);\r\n    }\r\n\r\n    handleClickBurger () {\r\n        this.state.menuDisplay ? this.setState(state =>({menuDisplay: false})) : this.setState(state =>({menuDisplay: true}));\r\n    };\r\n     <div   className={classes.burger} onClick={(e) => this.handleClickBurger(e)}    style={this.state.menuDisplay ?{ backgroundSize: '100%' }:{ backgroundSize:`200%` }} > </div>\r\n   <MenuBurger mass = {mass}/>\r\n    */","import React from \"react\";\r\nimport classes from './Navblock.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport cn from \"classnames\";\r\nimport Button from \"../../Button/Button\";\r\n\r\nconst Navblock = ({isAuth, login, LogoutThunkCreator }) =>{\r\n\r\n\r\n\r\n    return(\r\n\r\n            <div className={classes.block}>\r\n                <div className={cn (classes.itemsSize, classes.item1)}>\r\n                    <span><NavLink className={classes.link} to='/register'>регистрация</NavLink> </span>\r\n                </div>\r\n                <div className={cn (classes.itemsSize, classes.item2)}>\r\n                    {isAuth\r\n                        ? <div>\r\n                            <span className={classes.login}> {login}</span>\r\n                             <Button  value={\"Выход\"} onClick={LogoutThunkCreator}><NavLink to={`/users`}> </NavLink></Button>\r\n\r\n                          </div>\r\n                        : <NavLink className={classes.link} to='/login'>Вход</NavLink>}\r\n\r\n                </div>\r\n                <div className={cn (classes.itemsSize, classes.item3)}>\r\n                   <span><NavLink className={classes.link} to={`/profile`}> профиль </NavLink></span>\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n    );\r\n};\r\nexport default Navblock;","import React from \"react\";\r\nimport classes from './LoginBlock.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport cn from \"classnames\";\r\nimport Button from \"../Button/Button\";\r\n\r\nconst LoginBlock = ({isAuth, login, LogoutThunkCreator }) =>{\r\n\r\n\r\n\r\n    return(\r\n\r\n        <div className={classes.block}>\r\n\r\n            <div className={cn (classes.items)}>\r\n                {isAuth\r\n                    ? <div>\r\n                        <span> hi, {login}</span>\r\n                        <Button value={\"выход\"} onClick={LogoutThunkCreator}><NavLink to={`/users`}> Выход</NavLink></Button>\r\n\r\n                    </div>\r\n                    : <NavLink className={classes.link} to='/login'>Вход</NavLink>}\r\n\r\n            </div>\r\n            <div className={cn (classes.items)}>\r\n                <span><NavLink className={classes.link} to={`/profile`}> профиль </NavLink></span>\r\n\r\n            </div>\r\n            <div className={cn (classes.items)}>\r\n                <span> <NavLink className={classes.link} to={`/register`}> регистрация </NavLink>  </span>\r\n            </div>\r\n\r\n        </div>\r\n\r\n\r\n    );\r\n};\r\nexport default LoginBlock;","import React from \"react\";\r\nimport classes from './header.module.css';\r\nimport logo from \"../../img/hotpng.com (2).png\";\r\nimport Navbar from \"./Navbar/Navbar\";\r\nimport {connect} from \"react-redux\";\r\nimport {LogoutThunkCreator} from \"../../redux/authReducer\";\r\nimport Navblock from \"./Navblock/Navblock\";\r\nimport LoginBlock from \"./LoginBlock\";\r\n\r\nconst Header = ({menuItems, isAuth, login, LogoutThunkCreator}) =>{\r\n    return(\r\n        <div className={classes.g}>\r\n        <div className={classes.header}>\r\n            <div className={classes.img}>\r\n                <img src={logo} alt=\"logotype\" />\r\n             </div>\r\n\r\n            <div className={classes.nav}>\r\n                <div className={classes.quote}>\r\n                   <i>\"Не волнуйтесь, если что-то не работает. Если бы всё работало, вас бы уволили...\" </i>\r\n                </div>\r\n                    <Navbar menuItems={menuItems}/>\r\n                     <Navblock isAuth={isAuth}\r\n                               login={login}\r\n                               LogoutThunkCreator={LogoutThunkCreator}\r\n                     />\r\n            </div>\r\n\r\n        </div>\r\n            <div className={classes.loginBlock}>\r\n                <LoginBlock isAuth={isAuth}\r\n                          login={login}\r\n                          LogoutThunkCreator={LogoutThunkCreator}\r\n                />\r\n            </div>\r\n</div>\r\n    );\r\n};\r\n\r\nlet mapStateToProps = (state)  =>({\r\n    menuItems: state.headerMenu.menuItems,\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\n\r\nexport default connect (mapStateToProps, { LogoutThunkCreator}) (Header);","import React from \"react\";\r\nimport classes from './news.module.css';\r\n\r\nconst News = () =>{\r\n    return(\r\n        <div className={classes}>\r\n\r\n        </div>\r\n    )\r\n};\r\nexport  default  News;","import React from \"react\";\r\nimport classes from './Preloader.module.css';\r\nimport preloader from \"../../img/327.gif\";\r\n\r\nconst Preloader = () =>{\r\n    return(\r\n        <div className={classes.block}>\r\n            <img src={preloader} alt=\"preloader\"/>\r\n        </div>\r\n    )\r\n};\r\nexport  default  Preloader;","//https://habr.com/ru/company/ruvds/blog/445276/ полное руководство по hook Дена Абрамова\r\n// hook useState\r\n\r\nimport React, {useEffect, useState} from \"react\";\r\nimport classes from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusHook = (props) => {\r\n// hook useState возвращает массив из двух элементов (state хранится не в самой функции, а где то в React   )\r\n//делаем деструктуризированное присваивание (*)\r\n\r\n   let [status, setStatus] = useState(props.status);\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    useEffect( () =>{// hook который что то выполняет когда компонента отрисовалась (после отрисовки компоненты)\r\n        setStatus (props.status);\r\n        },[props.status]);//[props.status] зависимость (если не поставить зависимость - useEffect будет выполняться после каждой отрисовки компоненты - произойдет зацикливание, если оставить зависимость пустой - []- react точно не будет знать от чего зависит давнный useEffect - так делать не рекомендуется)\r\n// в данном случае зависит от  пропсов (точнее статуса пришедшего в пропсах) поэтому срабатывать он будет при изменении статуса в пропсах\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n        };\r\n    const activeEditeMode = () =>{\r\n        if(props.clickUserId)\r\n       { setEditMode(true)}\r\n    };\r\n\r\n    const deActivateEditMode =() => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n    //(*)современная альтернатива  наже написанного\r\n    /*\r\n    let  mass = useState(false);\r\n    let editMode = mass[0];// первый элемент массива -  наш закинутый false\r\n    let setEditMode = mass[1];//второй элемент массива - функция, которая может изменять (устанавливать значение)первый элемент\r\n    */\r\n\r\n\r\n        return(\r\n\r\n            <div className=''>\r\n                { !editMode &&\r\n                    <span className={classes.span} onDoubleClick={activeEditeMode}>... {props.status || 'no status'}</span>\r\n                }\r\n                {  editMode &&\r\n                    <input onChange={onStatusChange} onBlur={deActivateEditMode} autoFocus={true} type='text' value={status}/>\r\n                }\r\n\r\n\r\n            </div>\r\n\r\n        )\r\n    };\r\n\r\n\r\n\r\nexport  default  ProfileStatusHook;","import React from \"react\";\r\nimport classes from './ProfileInfo.module.css';\r\nimport facebook from \"../../../img/social_icons/facebook_101791.svg\";\r\nimport youtube from \"../../../img/social_icons/youtube_101764.svg\";\r\nimport twitter from \"../../../img/social_icons/twitter_101809.svg\";\r\nimport github from \"../../../img/social_icons/github_101792.svg\";\r\nimport instagram from \"../../../img/social_icons/instagram_101780.svg\";\r\nimport vk from \"../../../img/social_icons/vk_101783.svg\";\r\nimport Button from \"../../Button/Button\";\r\nimport cn from \"classnames\";\r\nimport styled from \"styled-components\";\r\n\r\n\r\nconst StyledLink = styled.a `\r\n  color: #17030C;\r\n  font-size: 12px;\r\n  text-decoration: none;\r\n  :hover {\r\n    color: #F704F2;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst massIcon = [\r\n    {id: 1, name: \"facebook\",src: facebook},\r\n    {id: 2, name: \"youtube\",src: youtube},\r\n    {id: 3, name: \"twitter\", src: twitter},\r\n    {id: 4, name: \"github\", src: github},\r\n    {id: 5, name: \"vk\", src: vk},\r\n    {id: 6, name: \"instagram\", src: instagram}\r\n];\r\n const ViewSocialIcons = ({title, value}) => {\r\n    return  massIcon.map(item =>\r\n        (item.name === title)\r\n            && <div key = {item.id}> <img src={item.src} alt={\"\"}/> <b><StyledLink target=\"_blank\" href={value}> {value} </StyledLink> </b></div>\r\n    );\r\n\r\n\r\n};\r\n\r\n\r\nconst ProfileData = ({profile, clickUserId, activeEditeMode}) =>{\r\n\r\n    return(\r\n            <div className={classes.dataBlock}>\r\n                        <p>{profile.fullName}</p>\r\n                        <div className={classes.gridBlock}>\r\n                             <b> Обо мне: </b>\r\n                             <span className={cn (classes.spanItem)}>\r\n                                 {profile.aboutMe}\r\n                            </span>\r\n                            <b>Ищу работу: </b>\r\n                              <span className={cn(classes.spanItem)}>\r\n                                  {profile.lookingForAJob ? \"да\" : \"нет\"}\r\n                              </span>\r\n                            <b>Навыки: </b>\r\n                            <span className={cn(classes.spanItem)}> {profile.lookingForAJobDescription}</span>\r\n\r\n\r\n                        </div>\r\n                    <div className={classes.socialIcons}>\r\n                        {\r\n                            Object.keys(profile.contacts).map(key =>\r\n                                (profile.contacts[key] != \"\" && profile.contacts[key] != null )\r\n                                && <ViewSocialIcons key={key} title = {key} value = {profile.contacts[key]} />\r\n\r\n                                )\r\n                        }\r\n                    </div>\r\n                        {clickUserId && <Button value={\"редактировать\"} onClick={activeEditeMode}/> }\r\n\r\n            </div>\r\n    )\r\n};\r\n\r\nexport  default  ProfileData;","import React from \"react\";\r\nimport classes from \"./ProfileDataForm.module.css\";\r\nimport {Input, Textarea} from \"../../commons/FormControls/FormControls\";\r\nimport {maxLengthCreator, requiredField} from \"../../../utils/validation/validator\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport Button from \"../../Button/Button\";\r\n\r\n\r\n\r\nconst maxLength20 = maxLengthCreator(20);\r\nconst maxLength200 = maxLengthCreator(200);\r\n\r\nconst ProfileForm = ({handleSubmit, profile, error}) => {\r\n\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className={classes.profileForm} >\r\n                <span className={classes.spanForm}> Редактирование профиля</span>\r\n                <b className={classes.bForm}>Введите имя</b>\r\n                <Field name={'fullName'}\r\n                       component={Input}\r\n                       validate={[requiredField, maxLength20]}/>\r\n                <b className={classes.bForm}> O себе</b>\r\n                <Field name={'aboutMe'}\r\n                       component={Textarea}\r\n                       validate={[requiredField, maxLength200]}/>\r\n                <b className={classes.bForm}> Профессиональные навыки </b>\r\n                <Field name={'lookingForAJobDescription'} placeholder={'введите текст'}\r\n                       component={Textarea}\r\n                       validate={[requiredField, maxLength200]}/>\r\n\r\n                <b className={classes.bForm}>Ищу работу:\r\n                     <Field name={'lookingForAJob'}\r\n                            type=\"checkbox\"\r\n                            component={'input'} /></b>\r\n\r\n            <div className={classes.socialIcons}>\r\n\r\n                {\r\n                    Object.keys(profile.contacts).map(key =>{\r\n                        return <div key={key}>\r\n                            <b className={classes.bForm}>{key}\r\n                                <Field name={'contacts.'+ key}\r\n                                       component={Input} /></b>\r\n                                </div>\r\n                    })\r\n                }\r\n\r\n\r\n            </div>\r\n            {\r\n                error && <div className={classes.formSummaryError}> {error}</div>\r\n            }\r\n            <Button value = \"Сохранить\" />\r\n        </form>\r\n    )\r\n};\r\n\r\n    const ProfileDataReduxForm = reduxForm({//контейнерная компонента,созда-\r\n        // a unique name for the form\r\n        //каждая форма должна иметь уникальное строковое имя (для распознавания ее редаксформом)\r\n        form: 'profile'//form: - это название не связано с form из store.js\r\n    })(ProfileForm);//-ется редаксформ над презентационной компонентой\r\n\r\n\r\nexport  default ProfileDataReduxForm;\r\n\r\n\r\n\r\n","import React, {useState} from \"react\";\r\nimport classes from './ProfileInfo.module.css';\r\nimport Preloader from \"../../Preloader/Preloader\";\r\nimport face from \"../../../img/icons/user.jpg\";\r\nimport ProfileStatusHook from \"./ProfileStatusHook\";\r\nimport ProfileData from \"./ProfileData\";\r\nimport ProfileDataReduxForm from \"./ProfileDataForm\";\r\n\r\n\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus,clickUserId,savePhoto, saveProfile }) =>{\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    const activeEditeMode = () =>{\r\n        setEditMode(true)\r\n    };\r\n\r\n    const deActivateEditMode =() => {\r\n        setEditMode(false);\r\n\r\n    };\r\n\r\n    if(!profile){\r\n        return <Preloader/>\r\n    }\r\n    const PhotoSelected = (e) => {\r\n        if (e.target.files.length){\r\n            savePhoto (e.target.files[0])\r\n        }\r\n\r\n    };\r\n    const onSubmit =  (formData) => {// сюда придут данные из формы, передаем эту  функцию в LoginReduxForm чтоб получить эти данные из формы\r\n       saveProfile(formData).then( () => {// для остановки отправки формы в случае ошибки\r\n           deActivateEditMode();\r\n           }\r\n       );\r\n       //debugger\r\n    };\r\n    return(\r\n\r\n            <div className={classes.flexBlock}>\r\n                    <div className={classes.itemImg}>\r\n                        <img src={profile.photos.large||face} alt=\"фото пользователя\"/>\r\n                            {\r\n                               ( clickUserId ) && <label className={classes.input_btn} htmlFor=\"input__file\" onChange={PhotoSelected}><input  id=\"input__file\"   type =\"file\"/> загрузить фото </label>\r\n                            }\r\n                    </div>\r\n                    <div className={classes.itemInfo}>\r\n                            <ProfileStatusHook\r\n                                status={status}\r\n                                updateStatus={updateStatus}\r\n                                profile = {profile}\r\n                                clickUserId = {clickUserId}\r\n                            />\r\n                            { editMode\r\n                                ? <ProfileDataReduxForm profile = {profile}\r\n                                                        onSubmit = {onSubmit}\r\n                                                        initialValues = {profile}\r\n                                />\r\n                                : <ProfileData profile = {profile}\r\n                                               clickUserId = {clickUserId}\r\n                                               activeEditeMode = {activeEditeMode}\r\n                                />\r\n                            }\r\n                    </div>\r\n            </div>\r\n\r\n    )\r\n};\r\nexport  default  ProfileInfo;\r\n/*\r\nObject.keys(profile.contacts).map(key =>{\r\n\r\n return <WidgetForm key={key} title = {key} value = {profile.contact[key]} />)\r\n }\r\n*/\r\n","\r\nimport React from \"react\";\r\nimport classes from \"./post.module.css\";\r\nimport face from \"../../../../img/hotpng.com (2).png\";\r\nimport styled from \"styled-components\";\r\n\r\n\r\nconst StyledLink = styled.a `\r\n  font-size:14px;\r\n  color: #00BCDF;\r\n  font-weight: 900;\r\n  text-decoration: none;\r\n  :hover {\r\n    color: #8EF3EB;\r\n    cursor: pointer;\r\n  }\r\n  @media (max-width: 576px) {\r\n   font-size: 8px;\r\n  }\r\n`;\r\n\r\n\r\n\r\nconst Post = (props) =>{\r\n   let post = [...props.dataMyPosts].reverse().map(p=>\r\n       <div key={p.id} className={classes.item}>\r\n           <img src={p.img||face} alt=\"\"/>\r\n           <div>\r\n               <span> {p.mess}</span>\r\n                <StyledLink href={p.link}> {p.link} </StyledLink>\r\n           </div>\r\n\r\n\r\n       </div>\r\n   );\r\n\r\n    return(\r\n        <div> {post}</div>\r\n    )\r\n\r\n\r\n\r\n};\r\nexport  default  Post;","\r\nimport React from \"react\";\r\nimport classes from \"./myPosts.module.css\";\r\nimport Post from \"./post/post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, requiredField} from \"../../../utils/validation/validator\";\r\nimport {Textarea} from \"../../commons/FormControls/FormControls\";\r\nimport Button from \"../../Button/Button\";\r\n\r\nconst maxLength300 = maxLengthCreator(300);// обязательно создаем за пределами формы иначе возникнет цикличночть\r\n\r\nconst AddMyPostForm = (props) =>{\r\n    return(\r\n        <form onSubmit={props.handleSubmit} className={classes.formAddPost}>\r\n            <div><Field name={'post'} placeholder={'post'} component={Textarea} validate={[requiredField, maxLength300]}/></div>\r\n            <div> <Button value=\"добавить\"/></div>\r\n        </form>\r\n    )\r\n};\r\n// reduxForm - функция редаксформ, которая возвращает hoc - в нашем случае LoginReduxForm, которая инкапсулирует в себе всю работу со стейтом\r\nconst AddMyPostReduxForm = reduxForm({\r\n    form: 'mypost'//form: - это название не связано с form из store.js\r\n})(AddMyPostForm);\r\n\r\nconst MyPosts = (props) =>{\r\n    const onSubmit = (formData) => {// сюда придут данные их формы, передаем эту  функцию в LoginReduxForm чтоб получить эти данные из формы\r\n        props.addPost(formData.post);// вызываем (из пропсов) функцию из BLL\r\n    };\r\n\r\n    return(\r\n            <div className={classes.block}>\r\n                <h3>My posts</h3>\r\n\r\n                <Post dataMyPosts = {props.dataMyPosts}/>\r\n                <AddMyPostReduxForm onSubmit = {onSubmit}/>\r\n            </div>\r\n\r\n    )\r\n};\r\nexport  default  MyPosts;\r\n\r\n/*const MyPosts = (props) =>{\r\n    //console.log(props);\r\n\r\n\r\n    let addPosts = ()=>{//функция добавления поста\r\n        props.addPost();// вызываем (из пропсов) функцию из BLL\r\n    };\r\n    let changePost = (e) =>{ //функция изменения состояния значения инпута\r\n        let text =e.target.value;// берем введенное значение\r\n        props.changePost(text);// передаем в функцию из BLL\r\n    };\r\n\r\n    return(\r\n            <div className={classes.block}>\r\n                <h3>My posts</h3>\r\n                <input onChange={changePost} value={props.newText}  type=\"text\" className={`${classes.input_text} ${classes.reset_properties}`}  placeholder='your news...'/>\r\n                <button onClick={addPosts} className={`${classes.send_btn} ${classes.reset_properties}`}>Send </button>\r\n                <Post dataMyPosts = {props.dataMyPosts}/>\r\n\r\n            </div>\r\n\r\n    )\r\n};*/","\r\nimport MyPosts from \"./myPosts\";\r\nimport {addPostActionCreator} from \"../../../redux/profileReducer\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dataMyPosts: state.profile.dataMyPosts\r\n    }\r\n\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (post) => {\r\n            dispatch(addPostActionCreator(post));\r\n        }\r\n    }\r\n};\r\n\r\nconst MyPostsContainer = connect (mapStateToProps,mapDispatchToProps)(MyPosts);\r\n\r\n\r\n\r\n\r\nexport  default  MyPostsContainer;\r\n\r\n/*const MyPostsContainer = (props) =>{\r\n    //console.log(props)\r\n\r\n\r\n    return(\r\n\r\n        <StoreContext.Consumer>\r\n            { (store) =>{\r\n\r\n                let state = store.getState();\r\n\r\n\r\n                let addPosts = ()=>{//функция добавления поста\r\n                    store.dispatch(addPostActionCreator());\r\n                };\r\n                let changePost = (text) =>{ //функция изменения состояния значения инпута\r\n                    store.dispatch(changePostActionCreator(text));\r\n                };\r\n\r\n\r\n               return(     <MyPosts\r\n                            addPost = {addPosts}\r\n                            changePost = {changePost}\r\n                            dataMyPosts = {state.profile.dataMyPosts}\r\n                            newText = {state.profile.newText}/>\r\n                      )\r\n             }\r\n        }\r\n        </StoreContext.Consumer>\r\n    )\r\n};*/","import React from \"react\";\r\nimport classes from \"./MySubscriptions.module.css\";\r\nimport cn from \"classnames\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport face from \"../../../img/icons/user.jpg\";\r\n\r\n\r\nconst MySubscriptions = ({usersFollowed}) =>{\r\n\r\n\r\n\r\n\r\n    return(\r\n        <div className={classes.block}>\r\n            <h3> Мои подписки:</h3>\r\n                <div className={classes.blockSubscriptions}>\r\n                    {usersFollowed.map(u =>\r\n                        <div key={u.id} className={cn (classes.item)}>\r\n                            <NavLink to ={'/profile/' + u.id} > <img src={u.photos.small != null ? u.photos.small : face} alt={\"Фото пользователя\"+ u.name}/> </NavLink>\r\n                            <br/><span>{u.name}</span>\r\n                        </div>)}\r\n                </div>\r\n        </div>\r\n    )\r\n};\r\nexport  default  MySubscriptions;","import React from \"react\";\r\nimport classes from './profile.module.css';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./myPosts/myPostsContainer\";\r\nimport MySubscriptions from \"./MySubscriptions/MySubscriptions\";\r\n\r\n\r\nconst Profile = (props) =>{\r\n   // console.log(props.file);\r\n    return(\r\n\r\n        <div className={classes.profilePage}>\r\n\r\n            <ProfileInfo\r\n                profile={props.profile}\r\n                status={props.status}\r\n                updateStatus={props.updateStatus}\r\n                clickUserId = {props.clickUserId}\r\n                savePhoto = {props.savePhoto}\r\n                saveProfile = {props.saveProfile}\r\n\r\n            />\r\n            <MySubscriptions\r\n                usersFollowed = {props.usersFollowed}\r\n            />\r\n            <MyPostsContainer />\r\n\r\n        </div>\r\n\r\n    )\r\n};\r\nexport  default  Profile;","\r\nimport React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getProfileThunkCreator,\r\n    getStatusThunkCreator, saveProfileThunkCreator,\r\n    updateProfilePhotoThunkCreator,\r\n    updateStatusThunkCreator\r\n} from \"../../redux/profileReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {getFollowedUsersThunkCreator} from \"../../redux/usersReducer\";\r\n\r\n\r\nclass ProfileAPI extends  React.Component{\r\n\r\n    refresh() {\r\n        //получаем id юзера из url (.../profile/1100)\r\n        let userId = this.props.match.params.userId;// match относится к компоненте withRouter , через него узнаем id кликнутого пользователя match.params.userId\r\n        if (!userId){\r\n            userId = this.props.userId;\r\n            if(!userId){\r\n                this.props.history.push('/login');// програмный редирект\r\n            }\r\n        }\r\n        this.props.getProfileThunkCreator(userId);\r\n        this.props.getStatusThunkCreator (userId);\r\n        this.props.getFollowedUsersThunkCreator(this.props.friend)\r\n    }\r\n\r\n// в componentDidMount() можно делать side effects (ajax запросы, setTimeOut, обращение к дом элементам напрямую)\r\n    componentDidMount(){\r\n        this.refresh();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {//используем обязательно с условием, чтоб не зациклить\r\n        if(this.props.match.params.userId !== prevProps.match.params.userId){\r\n            this.refresh();\r\n        }\r\n    }\r\n\r\n    render() {\r\n       return(\r\n           <Profile {...this.props}\r\n                    profile={this.props.profile}\r\n                    status={this.props.status}\r\n                    updateStatus={this.props.updateStatusThunkCreator}\r\n                    clickUserId = {!this.props.match.params.userId}\r\n                    savePhoto = {this.props.updateProfilePhotoThunkCreator}\r\n                    saveProfile = {this.props.saveProfileThunkCreator}\r\n                    usersFollowed = {this.props.usersFollowed}\r\n\r\n           />\r\n\r\n\r\n       )\r\n   }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\nlet mapStateToProps = (state)  =>({\r\n    profile:state.profile.profile,\r\n    status: state.profile.status,\r\n    userId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n    usersFollowed: state.usersPage.usersFollowed,\r\n    friend: state.usersPage.friend\r\n});\r\n\r\nexport  default compose(\r\n    connect(mapStateToProps,{getFollowedUsersThunkCreator, getProfileThunkCreator, getStatusThunkCreator, updateStatusThunkCreator, updateProfilePhotoThunkCreator, saveProfileThunkCreator}),\r\n    withRouter\r\n)(ProfileAPI);\r\n\r\n\r\n//let AuthRedirectComponent = WithAuthRedirect(ProfileAPI);\r\n//withRouter - компонента высшего порядка, в нее через пропсы придут данные о маршруте (url) в котором мы находимся\r\n// оборачиваем нашу ProfileAPI в компоненту withRouter для того, чтоб получить  url - /2314(...profile/2314 )\r\n//let Url = withRouter(AuthRedirectComponent);\r\n//export  default connect(mapStateToProps,{getProfileThunkCreator}) (Url);\r\n//connect создает контейнерную компоненту над презентационной,\r\n// которая подписывается на изменения в store, берет из него данные и\r\n// передает в mapStateToProps, там данные сравниваются и если изменились\r\n// компонента переисовывается\r\n//также запускает mapdispatchtoprops, получает колбеки и передает внутрь\r\n// презентационной компоненты, которую отрисовывает","import React from \"react\";\r\nimport classes from './Home.module.css';\r\nimport styled from \"styled-components\";\r\nimport img from \"../../img/links/photo_2020-09-28_00-46-32.jpg\"\r\n\r\n\r\nconst StyledLink = styled.a `\r\n  padding: 10px;\r\n  font-size: 9px;\r\n  color: #00BCDF;\r\n  font-weight: 900;\r\n  text-decoration: none;\r\n  :hover {\r\n    color: #8EF3EB;\r\n    cursor: pointer;\r\n  }\r\n  @media (max-width: 576px) {\r\n   \r\n  }\r\n`;\r\n\r\n\r\nconst Home = ({news}) =>{\r\n    return(\r\n        <div className={classes.pageHome}>\r\n            <div>\r\n                    <h1>Интересное для frontend разработчиков</h1>\r\n                    <div className={classes.items}>\r\n                        {news.map(n =>\r\n                            <div key={n.id} className={classes.item}>\r\n                                <h5 className={classes.title}>{n.title} </h5>\r\n                                <img src={n.img} alt=\"\"/>\r\n                                <p className={classes.text}>{n.description}</p>\r\n                                <StyledLink href={n.link}>{n.link}</StyledLink>\r\n                            </div>\r\n\r\n                        )}\r\n                    </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\nexport  default  Home;","\r\nimport React from \"react\";\r\nimport Home from \"./Home\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst HomeApi = ({news}) =>{\r\n    return(\r\n        <Home news = {news} />\r\n    )\r\n};\r\n\r\nlet mapStateToProps = (state)  =>({\r\n    news:state.news.news\r\n});\r\n\r\nexport  default connect(mapStateToProps)(HomeApi);\r\n\r\n\r\n","import React from \"react\";\r\nimport classes from './Register.module.css';\r\n\r\nconst Register = () =>{\r\n    return(\r\n        <div className={classes}>\r\n\r\n        </div>\r\n    )\r\n};\r\nexport  default  Register;","import React from \"react\";\r\nimport classes from './Recipes.module.css';\r\n\r\nconst Recipes = () =>{\r\n    return(\r\n        <div className={classes}>\r\n\r\n        </div>\r\n    )\r\n};\r\nexport  default  Recipes;","import React from \"react\";\r\nimport classes from './Universal.module.css';\r\n\r\nconst Universal = () =>{\r\n    return(\r\n        <div className={classes}>\r\n\r\n        </div>\r\n    )\r\n};\r\nexport  default  Universal;","import React from \"react\";\r\nimport classes from './Login.module.css';\r\n//инсталируем redux form - npm install redux-form\r\n// в store.js комбайним редаксовский редьюсер\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../commons/FormControls/FormControls\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validation/validator\";\r\nimport {connect} from \"react-redux\";\r\nimport { LoginThunkCreator} from \"../../redux/authReducer\"\r\nimport {Redirect} from \"react-router-dom\";\r\nimport Button from \"../Button/Button\";\r\n// Field поля формы reduxform\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\nconst maxLength10 = maxLengthCreator(20);\r\n\r\nconst LoginForm = (props) =>{\r\n//handleSubmit - колбек функция, приходящая в пропсы LoginForm из reduxForm,\r\n// вешаем ее на событие onSubmit\r\n//  в ней происходят:\r\n//  e.preventDefault,\r\n//  сбор всех данных с полей формы (упаковываются в объект),\r\n// вызов  props.onSubmit(formData)\r\n    return(\r\n            <form className={classes.loginForm} onSubmit={props.handleSubmit}>\r\n                <div className={classes.loginFormInput}><Field name={'email'} placeholder={'email'}\r\n                            component={Input}\r\n                            validate={[requiredField, maxLength30]}/></div>\r\n                <div className={classes.loginFormInput}><Field name={'password'} placeholder={'password'} type=\"password\"\r\n                            component={Input}\r\n                            validate={[requiredField, maxLength10]}/></div>\r\n                <div className={classes.loginFormRememberMe}><Field name={'rememberMe'} type=\"checkbox\"\r\n                            component={'input'} /> <b>запомнить меня</b></div>\r\n               {\r\n                 props.error && <div className={classes.formSummaryError}> {props.error}</div>\r\n               }\r\n                {\r\n                    props.captchaUrl &&\r\n                    <div>\r\n                        <img src={props.captchaUrl} alt=\"captcha\"/>\r\n                        <Field name={'captcha'} type=\"text\"\r\n                               component={Input}\r\n                               validate={[requiredField, maxLength10]}/>\r\n                    </div>\r\n                }\r\n                <div className={classes.loginFormButton}> <Button value = \"Войти\"/> </div>\r\n            </form>\r\n    )\r\n};\r\n// reduxForm - функция редаксформ, которая возвращает hoc - в нашем случае LoginReduxForm, которая инкапсулирует в себе всю работу со стейтом\r\nconst LoginReduxForm = reduxForm({//контейнерная компонента,созда-\r\n    // a unique name for the form\r\n    //каждая форма должна иметь уникальное строковое имя (для распознавания ее редаксформом)\r\n    form: 'login'//form: - это название не связано с form из store.js\r\n})(LoginForm);//-ется редаксформ над презентационной компонентой\r\n\r\nconst Login = (props) =>{\r\n    const onSubmit = (formData) => {// сюда придут данные из формы, передаем эту  функцию в LoginReduxForm чтоб получить эти данные из формы\r\n        props.LoginThunkCreator(formData.email, formData.password, formData.rememberMe, formData.captchaUrl )//отправляем взятые из формы данные на сервер\r\n    };\r\n    if(props.isAuth){\r\n        return  <Redirect to = {`/profile`}/>\r\n    }\r\n    return(\r\n        <div className={classes.wrapperBlockForm}>\r\n            <div className={classes.blockForm}>\r\n                <h1>Вход в аккаунт</h1>\r\n                <LoginReduxForm onSubmit = {onSubmit}\r\n                                captchaUrl = {props.captchaUrl}\r\n                />\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n};\r\nconst mapStateToProps =  (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    userId: state.auth.userId,\r\n    captchaUrl: state.auth.captchaUrl\r\n});\r\nexport  default connect (mapStateToProps, {LoginThunkCreator}) (Login);","import React, {useState} from \"react\";\r\nimport classes from './Paginator.module.css';\r\nimport  cn from \"classnames\"\r\nimport Button from \"../Button/Button\";\r\n\r\nconst Pagination = ({currentPage,pageSize,userCount,onPageChange}) =>{\r\n\r\n    let portionSize  = 10;\r\n\r\n    let pagesCount = Math.ceil(userCount / pageSize);\r\n\r\n    let pages = [];\r\n    for(let i=1; i<=pagesCount; i++){\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil( pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber-1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return(\r\n\r\n            <div className={ classes.block}>\r\n                {portionNumber > 1 &&\r\n                    <button  onClick={() =>{setPortionNumber(portionNumber-1)}}> &#9668; </button>\r\n                }\r\n                {pages\r\n                    .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                    .map(p =>{\r\n                   return  <span className={cn (currentPage === p && classes.currentPage)}\r\n                                 key={p}\r\n                                 onClick={(e) => {onPageChange(p)}}> {p} </span>\r\n                    })\r\n                }\r\n                {portionCount > portionNumber &&\r\n                <button  onClick={()=> {setPortionNumber(portionNumber+1)}}> &#9658; </button>\r\n                }\r\n            </div>\r\n    )\r\n};\r\nexport  default Pagination;","import React from \"react\";\r\nimport classes from './AllUsers.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport face from \"../../img/icons/user.jpg\";\r\nimport cn from \"classnames\";//позволяет перечислять классы через запятую, а также вставлять условие для отображения того или иного класса\r\nconst OneUser = ({users,isFollowingProgress,unFollowThunkCreator,followThunkCreator, ...props}) =>{\r\n\r\n\r\n\r\n    return(\r\n\r\n        <div>\r\n            {users.map(u =>\r\n            <div key={u.id} className={cn (classes.dialog)}>\r\n                <div className={classes.blockFoto}>\r\n                    <NavLink to ={'/profile/' + u.id} > <img src={u.photos.small != null ? u.photos.small : face} alt={\"\"}/> </NavLink>  <br/>\r\n                    {u.followed\r\n                        ?  <button disabled={isFollowingProgress.some(id=>id===u.id)}\r\n                                   onClick= {() => {unFollowThunkCreator(u.id) }}> Отписаться </button>  //props.unfollow(u.id) - диспатчим в редьюсер\r\n                        :  <button disabled={isFollowingProgress.some(id=>id===u.id)}\r\n                                   onClick={() => {followThunkCreator(u.id)}}> Подписаться </button>\r\n                    }\r\n                </div>\r\n                <div className={classes.blockName}>\r\n                    <span><b>{u.name}</b></span> <br/>\r\n                    <span className={classes.status}>{u.status}</span>\r\n                </div>\r\n\r\n\r\n            </div>)}\r\n        </div>\r\n    )\r\n};\r\nexport  default OneUser;","import React from \"react\";\r\nimport classes from './AllUsers.module.css';\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport Pagination from \"./Pagination\";\r\nimport OneUser from \"./OneUser\";\r\nimport SearchUsersContainer from \"../SearchUsers/SearchUsersContainer\";\r\n\r\n\r\n/*let Search = (props) =>{\r\n    return ( <div className={classes.searchUsers}>\r\n        <div className={classes.title}>\r\n            <h1>Пользователи</h1>\r\n        </div>\r\n        <div className={classes.search}>\r\n            <input className={classes.inputSearch} type=\"text\" placeholder='введите имя'/>\r\n            <button className={classes.buttonSearch}> поиск</button>\r\n        </div>\r\n    </div>)\r\n};*/\r\n\r\nlet Counter = (props) =>{\r\n    return  (<div className={classes.counterUsers}>\r\n        <span className={classes.text}>всего пользователей</span>\r\n        <span className={classes.numbers}>{props.userCount}</span>\r\n    </div>)\r\n};\r\n\r\n\r\nconst AllUsers = (props) =>{\r\n    //console.log(props);\r\n    return(\r\n        <div className={classes.usersPage}>\r\n            <SearchUsersContainer/>\r\n            <Counter userCount = {props.userCount}/>\r\n            <Pagination\r\n                userCount = {props.userCount}\r\n                pageSize = {props.pageSize}\r\n                onPageChange = {props.onPageChange}\r\n                currentPage = {props.currentPage}\r\n            />\r\n            {props.isFetching ? <Preloader/> : null}\r\n            <OneUser\r\n                 users = {props.users}\r\n                 isFollowingProgress = {props.isFollowingProgress}\r\n                 unFollowThunkCreator = {props.unFollowThunkCreator}\r\n                 followThunkCreator = {props.followThunkCreator}\r\n            />\r\n            <Pagination\r\n                userCount = {props.userCount}\r\n                pageSize = {props.pageSize}\r\n                onPageChange = {props.onPageChange}\r\n                currentPage = {props.currentPage}\r\n            />\r\n        </div>\r\n    )\r\n};\r\nexport  default AllUsers;\r\n/*<button className={classes.btnShowMore}>Показать еще</button>*/","import {createSelector} from \"reselect\";\r\n\r\nexport  const getUsers = (state) => {\r\n        return state.usersPage.users;\r\n    };\r\n  export  const getPageSize = (state) => {\r\n      return state.usersPage.pageSize;\r\n  };\r\n  export  const getUsersCount = (state) => {\r\n      return state.usersPage.usersCount;\r\n  };\r\n  export  const getCurrentPage = (state) => {\r\n      return state.usersPage.currentPage;\r\n  };\r\n  export  const getIsFetching = (state) => {\r\n      return state.usersPage.isFetching;\r\n  };\r\n  export  const getIsFollowingProgress = (state) => {\r\n      return state.usersPage.isFollowingProgress;\r\n  };\r\n\r\n\r\n\r\n//реселект используем для сложных селекторов,\r\n// передаем ему параметром простой селектор (getUsers) и что он возвращает(users)\r\n// и уже эти данные обрабатываем.\r\n// т.е. у реселектора есть в памяти зависимости - users\r\n// и если users не меняется в  state, то функция (getUsersReselect) перезапускаться впустую не будет\r\nexport const getUsersReselect = createSelector(getUsers,(users) =>{//\r\n    return users.filter(u=>true);\r\n});\r\nexport const getUsersFollowReselect = createSelector(getUsers,(users) =>{//\r\n    return users.filter(u => u.followed === true);\r\n});\r\n//сложная зависимость от нескольтких селекторов\r\nexport const getUsersReselect2 = createSelector(getUsers,getIsFetching,\r\n    (users, isFetching) =>{//\r\n    return users.filter(u=>true);\r\n});","import React from \"react\";\r\n\r\nimport AllUsers from \"./AllUsers\";\r\n\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow, followThunkCreator, getUsersThunkCreator,\r\n    setCurrentPage,\r\n    setToggleIsFollowing,\r\n    unfollow, unFollowThunkCreator\r\n} from \"../../redux/usersReducer\";\r\nimport {\r\n    getCurrentPage,\r\n    getIsFetching,\r\n    getIsFollowingProgress,\r\n    getPageSize,\r\n    getUsers,\r\n    getUsersCount\r\n} from \"../../redux/usersSelectors\";\r\n\r\n\r\n\r\n\r\n\r\nclass AllUsersAPI extends  React.Component{\r\n  /*  constructor (props) {\r\n        super(props);\r\n    }*/\r\n        componentDidMount(){\r\n            const {currentPage, pageSize}= this.props;\r\n             this.props.getUsersThunkCreator(currentPage,pageSize );\r\n        }\r\n        onPageChange = (pageNumber) =>{\r\n            const {pageSize} = this.props;\r\n            this.props.setCurrentPage(pageNumber);\r\n            this.props.getUsersThunkCreator(pageNumber,pageSize );\r\n        };\r\n\r\n\r\n    render() {\r\n\r\n       return <>\r\n\r\n            <AllUsers\r\n               userCount = {this.props.usersCount}\r\n                pageSize = {this.props.pageSize}\r\n               currentPage = {this.props.currentPage}\r\n               onPageChange = {this.onPageChange}\r\n               users = {this.props.users}\r\n               unfollow = {this.props.unfollow}\r\n               follow = {this.props.follow}\r\n               isFetching = {this.props.isFetching}\r\n               isFollowingProgress = {this.props.isFollowingProgress}\r\n               followThunkCreator = {this.props.followThunkCreator}\r\n               unFollowThunkCreator = {this.props.unFollowThunkCreator}\r\n\r\n           />\r\n\r\n       </>\r\n    }\r\n\r\n\r\n\r\n}\r\n/*let mapStateToProps = (state) => {\r\n    return{\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        usersCount: state.usersPage.usersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        isFollowingProgress: state.usersPage.isFollowingProgress\r\n    }\r\n};*/\r\nlet mapStateToProps = (state) => {\r\n    return{\r\n        users: getUsers(state),// getUsersReselect(state)\r\n        pageSize: getPageSize(state),\r\n        usersCount: getUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        isFollowingProgress: getIsFollowingProgress(state)\r\n    }\r\n};\r\n\r\n\r\nexport default connect (mapStateToProps,\r\n    {follow, unfollow, setCurrentPage, setToggleIsFollowing,\r\n        getUsersThunkCreator, followThunkCreator, unFollowThunkCreator}) (AllUsersAPI);\r\n\r\n/*\r\nconst AllUsers = (props) =>{\r\n//console.log(props.users);\r\n    if(props.users.length === 0){\r\n        axios.get('https://social-network.samuraijs.com/api/1.0/users').then(response => {\r\n            console.log (response);\r\n            //debugger;\r\n            props.setUsers(response.data.items);\r\n        } );\r\n    }\r\n\r\n        let user = props.users.map(u =>\r\n        <div key={u.id} className={classes.dialog}>\r\n            <div className={classes.blockFoto}>\r\n                <img src={u.photos.small != null ? u.photos.small : face} alt={\"\"}/> <br/>\r\n                {u.followed ? <button onClick= {() => {props.unfollow(u.id)}}> UnFollow </button> : <button onClick={() => {props.follow(u.id)}}> Follow </button>}\r\n            </div>\r\n            <div className={classes.blockName}>\r\n                <span><b>{u.name}</b></span> <br/>\r\n                <span className={classes.status}>{u.status}</span>\r\n            </div>\r\n            <div>\r\n                <span>{\"u.locations.city\"}</span> <br/>\r\n                <span>{\"u.locations.country\"}</span>\r\n            </div>\r\n\r\n        </div>);\r\n\r\n    return (\r\n        <div className={classes.usersPage}>\r\n            <Search/>\r\n            <Counter/>\r\n            {user}\r\n            <button className={classes.btnShowMore}>Показать еще</button>\r\n        </div>\r\n    )\r\n};\r\n\r\n*/","import React, {Component} from 'react';\nimport './App.css';\nimport './Media.css';\nimport './Fonts.css';\nimport Header from \"./components/header/header\";\nimport News from \"./components/news/news\";\nimport ProfileAPI from \"./components/profile/profileAPI\";\n\nimport HomeApi from \"./components/Home/HomeApi\";\nimport Register from \"./components/Register/Register\";\nimport Recipes from \"./components/Recipes/Recipes\";\nimport Universal from \"./components/Universal/Universal\";\nimport Login from \"./components/Login/Login\";\n\nimport {Route,  withRouter} from \"react-router-dom\";\nimport AllUsersAPI from \"./components/AllUsers/AllUsersAPI\";\n//import MessageApi from \"./components/Message/MessageApi\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {InitializationThunkCreator} from \"./redux/appReducer\";\nimport Preloader from \"./components/Preloader/Preloader\";\nimport {WithSuspense} from \"./hoc/WithSuspense\";// hook\n\nconst MessageApi = React.lazy(() => import('./components/Message/MessageApi'));\n\nclass App extends Component {// делаем app классовой компонентой, т к нам нужен жизненный цикл componentDidMount\n\n    catchAllUnhandledErrors=(promiseRejectionEvent) => {// глобальный перехват ошибок, либо локально try catch\n        console.log(promiseRejectionEvent);\n    };\n\n    componentDidMount(){\n        this.props.InitializationThunkCreator();\n        window.addEventListener(\"unhandledrejection\",this.catchAllUnhandledErrors );//side effect можем позволить тут - но вызывая событие прослушки*\n    }\n    componentWillUnmount() {\n        window.removeEventListener(\"unhandledrejection\",this.catchAllUnhandledErrors );//* обязательно снимаем его когда компонента размонтировалась\n    }\n\n    render() {\n        if(!this.props.initialization){\n            return <Preloader/>\n        }\n        return (\n\n            <div className=\"App\">\n                <header><Header/></header>\n\n                <div className='content'>\n\n\n                        <Route  path='/recipes' render={() => <Recipes/>}/>\n                        <Route path='/news' render={() => <News/>}/>\n                        <Route path='/dialogs' render={WithSuspense(MessageApi)}/>\n                        <Route path='/register' render={() => <Register/>}/>\n                        <Route path='/soup' render={() => <Universal/>}/>\n                        <Route path='/meet' render={() => <Universal/>}/>\n                        <Route path='/fish' render={() => <Universal/>}/>\n                        <Route path='/bread' render={() => <Universal/>}/>\n                        <Route path='/cookis' render={() => <Universal/>}/>\n                        <Route path='/profile/:userId?' render={() =>\n                            <ProfileAPI//:userId? - добавляем параметр к пути, чтоб можно было его получить из match.params.userId\n\n                            />}/>\n                        <Route path='/login' render={() => <Login/>}/>\n                        <Route path='/users' render={() => <AllUsersAPI/>}/>\n\n                         <Route exact path='/' render={() => <HomeApi/>}/>\n\n                </div>\n\n                {/*<Profile/>*/}\n            </div>\n\n        );\n    }\n}\nconst mapStateToProps=(state) => ({\n    initialization: state.app.initialization\n});\n\n// когда мы коннектим компоненту сбивается Route ,\n// поэтому оборачивает connect в withRouter, чтоб корректно работали Route\nexport default compose (\n    withRouter,\n    connect (mapStateToProps, {InitializationThunkCreator})\n)( App);\n\n/*со <Switch/> не работает переход - в адресной строке меняется адрес а перехода на страницу не происхоит\n// <Switch/> нужен для распознавания более уточненных адресов, например\n\n\"/login/treyteyte\" - если встретится на пути такой адрес (более уточненный), Switch дальше не пойдет\n\"/login\" поэтому короткие адреса вставляем ниже по иерархии\n*/\n\n//<Route path='*' render={() => <div> 404 not found </div>}/>\n\n\n/*dataDialogs = {props.state.dialogs.dataDialogs}\n                dispatch = {props.dispatch}\n                newText = {props.state.dialogs.newText}\n\n                dataMyPosts = {props.state.profile.dataMyPosts}\n                  dispatch = {props.dispatch}\n                  newText = {props.state.profile.newText}\n\n */\n","import React from \"react\";\r\nimport Preloader from \"../components/Preloader/Preloader\";\r\n\r\n\r\n\r\nexport const WithSuspense = (Component) =>{\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n                     <Component {...props}/>\r\n                </React.Suspense>\r\n    }\r\n};\r\n//WithAuthRedirect - hoc (компонента высшего порядка) функция, которая принимает\r\n//как параметр компоненту и возвращает к ней контейнерную компоненту\r\n// в данном случаее hoc делает перенаправление (с помошью компоненты Redirect)на другую страницу согласно условия","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport store from './redux/store';\nimport {HashRouter} from \"react-router-dom\";\nimport App from \"./App\";\n\nimport  {Provider} from \"react-redux\";\n\n\n\n    ReactDOM.render(\n        <HashRouter>\n            <Provider store={store}>\n            <App  />\n            </Provider>\n        </HashRouter>, document.getElementById('root'));\n\n\n//HashRouter basename={process.env.PUBLIC_URL}\n/*store.subscribe(()=>{\n   // let state = store.getState();\n    reRender();\n});*/\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();// из темы  progressive web app (PWA) - мелкие приложения-сайты\n//Provider store={store} -  как родитель передает в контекст  store, чтоб дочерние компоненты имели к нему доступ","import face from \"../img/hotpng.com (2).png\";\r\nimport img2 from \"../img/links/photo_2020-09-27_22-49-04.jpg\";\r\nimport img1 from \"../img/links/photo_2020-09-27_23-09-47.jpg\";\r\nimport img3 from \"../img/links/photo_2020-09-27_23-14-45.jpg\";\r\nimport {profileApi} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n//reducer  - это функция, которая преобразовывает  state  через объект action ( у которого есть как минимум  type)\r\n//каждый reducer отвечает за свою часть стейта, получает   action, часть стейта\r\n// и преобразовывает  state инъютабельно (не перерисовывает входящий стейт а работает с копией)\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst  SET_USERS_PROFILE = 'SET_USERS_PROFILE';\r\nconst  SET_STATUS = 'SET_STATUS';//2\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SET_PHOTO = 'SET_PHOTO';\r\n\r\n\r\nlet initialState = {\r\n    dataMyPosts:[\r\n        {id: 1, img:img1, mess:\"способ отложенной загрузки изображений для максимальной производительности.\", link:\"https://blog.prototyp.digital/best-way-to-lazy-load-images-for-maximum-performance\", like:15},\r\n        {id: 2, img:img2, mess:\"Веб-разработчику: 10 полезных инструментов.\", link:\"https://habr.com/ru/company/ruvds/blog/515004\", like:4},\r\n        {id: 3, img:img3, mess:\"Анимируйте SVG viewBox с помощью React.\", link:\"https://elijahmanor.com/blog/react-svg-viewbox\", like:4},\r\n        {id: 4, img:null, mess:\"5 самых раздражающих особенностей веб-сайтов...\", link:\"https://bighack.org/5-most-annoying-website-features-i-face-as-a-blind-screen-reader-user-accessibility\", like:4}\r\n\r\n\r\n        ],\r\n    profile: null,\r\n    status:\"\",//1\r\n\r\n};\r\n\r\n   const profileReducer =  (state = initialState, action) => {\r\n       // eslint-disable-next-line default-case\r\n\r\n       switch (action.type) {\r\n           case ADD_POST: {\r\n               return {\r\n                   ...state,\r\n                   dataMyPosts: [...state.dataMyPosts,{img:face, mess: action.post, like:0  }]\r\n               };\r\n            }\r\n           case SET_USERS_PROFILE:\r\n              { return {...state, profile: action.profile};}\r\n           case SET_STATUS://3\r\n           { return {...state, status: action.status};}\r\n           case DELETE_POST:\r\n           { return {...state, dataMyPosts: state.dataMyPosts.filter(p=> p.like !== action.id)};}\r\n           case SET_PHOTO:\r\n           {\r\n               return {...state, profile: {...state.profile, photos: action.photos}};\r\n           }\r\n\r\n\r\n           default:\r\n               return state;\r\n       }\r\n\r\n};\r\n\r\nexport const addPostActionCreator =(post)=> ({type: ADD_POST, post });// если функция только возвращает  можно не ставить return\r\nexport const setUsersProfile = (profile) => ({type: SET_USERS_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});//4\r\nexport const deletePost = (id) => ({type: DELETE_POST,id});\r\nexport const setPhoto = (photos) => ({type: SET_PHOTO, photos});\r\n\r\n// thunk\r\nexport  const  getProfileThunkCreator = (userId) => (dispatch) => {\r\n    profileApi.getProfile(userId).then(response => {\r\n        dispatch(setUsersProfile(response.data));\r\n    })\r\n};\r\n\r\nexport  const  getStatusThunkCreator = (userId) => (dispatch) => {//5\r\n    profileApi.getStatus(userId).then(response => {\r\n        dispatch(setStatus(response.data));\r\n    })\r\n};\r\n\r\nexport  const  updateStatusThunkCreator = (status) => async (dispatch) => {\r\n    try {\r\n        const response = await profileApi.updateStatus(status);\r\n        if(response.data.resultCode === 0)\r\n            dispatch(setStatus(status));\r\n    } catch (e) {\r\n\r\n    }\r\n    \r\n    \r\n};\r\nexport  const  updateProfilePhotoThunkCreator = (file) => (dispatch) => {\r\n    profileApi.addPhoto(file).then(response => {\r\n        if(response.data.resultCode === 0)\r\n            dispatch(setPhoto(response.data.data.photos));\r\n    })\r\n};\r\nexport  const  saveProfileThunkCreator = (profile) => async (dispatch, getState) => {\r\n    const  userId = getState().auth.userId;// достаем из стейта текущего пользователя\r\n   const response = await profileApi.saveProfile(profile);\r\n        if(response.data.resultCode === 0){\r\n            dispatch(getProfileThunkCreator(userId));\r\n        } else {\r\n            let message = response.data.messages.length >0 ? response.data.messages[0] : \" Ошибка\";\r\n            dispatch(stopSubmit(\"profile\",{_error: message}));// stopSubmit() - это action creator из redux form , останавливает отправку формы в скабках указываем какую именно форму останавливаем (name)\r\n            return  Promise.reject({_error: message})// для остановки отправки формы в случае ошибки\r\n        }\r\n\r\n};\r\n\r\n\r\n   export default profileReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"AllUsers_dialog__1rqYQ\",\"usersPage\":\"AllUsers_usersPage__1orDm\",\"dialogs\":\"AllUsers_dialogs__hhDa3\",\"blockFoto\":\"AllUsers_blockFoto__24cf_\",\"blockName\":\"AllUsers_blockName__1_N3M\",\"status\":\"AllUsers_status__1P4ri\",\"searchUsers\":\"AllUsers_searchUsers__FCRQ_\",\"title\":\"AllUsers_title__17LT5\",\"search\":\"AllUsers_search__S8t7b\",\"inputSearch\":\"AllUsers_inputSearch__1AE5_\",\"buttonSearch\":\"AllUsers_buttonSearch__nU39h\",\"counterUsers\":\"AllUsers_counterUsers__2FYkZ\",\"text\":\"AllUsers_text__8qRYn\",\"numbers\":\"AllUsers_numbers__F8RyR\",\"viewingInfo\":\"AllUsers_viewingInfo__3o_m8\",\"currentPage\":\"AllUsers_currentPage__3RPTe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileForm\":\"ProfileDataForm_profileForm__3p5mz\",\"spanForm\":\"ProfileDataForm_spanForm__1qDZb\",\"bForm\":\"ProfileDataForm_bForm__1hDwB\",\"formSummaryError\":\"ProfileDataForm_formSummaryError__1iA6e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formSummaryError\":\"Login_formSummaryError__3Mh0b\",\"blockForm\":\"Login_blockForm__2X7eY\",\"loginForm\":\"Login_loginForm__YpYzH\",\"loginFormInput\":\"Login_loginFormInput__1g2Il\",\"loginFormRememberMe\":\"Login_loginFormRememberMe__2fL4Y\",\"loginFormButton\":\"Login_loginFormButton__1yKRs\",\"wrapperBlockForm\":\"Login_wrapperBlockForm__2HT8i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger\":\"Navbar_burger__1Rc8T\",\"navbarMenu\":\"Navbar_navbarMenu__3bCfX\",\"menu\":\"Navbar_menu__3_FQW\",\"menuItem\":\"Navbar_menuItem__26hub\",\"active\":\"Navbar_active__3YwhA\",\"dropdown\":\"Navbar_dropdown__2ajh9\",\"menuDropdown\":\"Navbar_menuDropdown__3m8d5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"LoginBlock_block__1TflJ\",\"items\":\"LoginBlock_items__2BgaY\",\"link\":\"LoginBlock_link__2c4ko\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"g\":\"header_g__2vZ5o\",\"header\":\"header_header__1z3_C\",\"nav\":\"header_nav__2X83O\",\"img\":\"header_img__Su4q7\",\"loginBlock\":\"header_loginBlock__tSUJX\",\"quote\":\"header_quote__qBcLU\"};","module.exports = __webpack_public_path__ + \"static/media/hotpng.com (2).ce69286c.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageHome\":\"Home_pageHome__QI_Lt\",\"items\":\"Home_items__1Xyqg\",\"item\":\"Home_item__2zeGQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Message_dialogs__2baLX\",\"searchUsers\":\"Message_searchUsers__9t9jj\",\"title\":\"Message_title__-9VyK\",\"search\":\"Message_search__gkp-3\",\"inputSearch\":\"Message_inputSearch__3V8kI\",\"buttonSearch\":\"Message_buttonSearch__2KJW5\",\"counterUsers\":\"Message_counterUsers__rp0hV\",\"text\":\"Message_text__2kiW0\",\"numbers\":\"Message_numbers__4YsQx\",\"viewingInfo\":\"Message_viewingInfo___2Tny\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textareaAddMess\":\"FormControls_textareaAddMess__4DI64\",\"input\":\"FormControls_input__2twEx\",\"error\":\"FormControls_error__2XMWx\",\"spanError\":\"FormControls_spanError__rGxCm\"};","module.exports = __webpack_public_path__ + \"static/media/photo_2020-09-27_23-14-45.b4cd3550.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"blockSubscriptions\":\"MySubscriptions_blockSubscriptions__3sqij\",\"block\":\"MySubscriptions_block__3hg4t\",\"item\":\"MySubscriptions_item__P6J3o\"};"],"sourceRoot":""}